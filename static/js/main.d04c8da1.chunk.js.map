{"version":3,"sources":["functions/functions.js","components/layouts/WorkstationsList.js","components/pages/Home.js","components/pages/Workstations.js","components/forms/NewWorkstation.js","components/forms/EditWorkstation.js","components/layouts/Bookings.js","components/pages/AdminPanel.js","components/pages/Login.js","components/pages/Register.js","components/layouts/BookingDetails.js","components/pages/User.js","components/pages/Error.js","components/layouts/Navbar.js","components/layouts/Footer.js","App.js","index.js"],"names":["module","exports","handleError","res","message","window","location","replace","url","WorkstationsList","limit","user","JSON","parse","localStorage","getItem","token","useState","startDate","endDate","workstationId","userId","data","setData","newBooking","setNewBooking","availableWorkstations","setAvailableWorkStations","displayWorkstations","setDisplayWorkstations","isLoading","setIsloading","selectedWorkstation","setSelectedWorkstation","result","setResult","useEffect","tomorrow","Date","setDate","getDate","fetch","method","body","stringify","headers","then","json","list","available","i","length","push","filterData","catch","err","console","log","alert","refreshList","handleDateChange","e","target","name","value","handleSelectWorkstation","document","getElementById","_id","classList","remove","find","workstation","add","className","onSubmit","preventDefault","fail","booking","htmlFor","type","onChange","placeholder","success","format","total","onClick","payment","open","receipt_url","map","index","bottom","distance","delay","key","id","src","image","alt","price","area","description","role","to","Home","scrollTo","Workstations","NewWorkstation","getWorkstations","setWorkstations","category","preview","setPreview","handleTextChange","encType","size","formData","FormData","append","required","defaultValue","disabled","min","rows","accept","targget","files","reader","FileReader","onload","readAsDataURL","EditWorkstation","workstations","handleEditWorkstation","codeName","product","onloadend","data-toggle","data-target","tabIndex","data-dismiss","deletedWorkstation","Bookings","status","setStatus","selectedBooking","setSelectedBooking","bookings","setBookings","displayBookings","setDisplayBookings","transactionCode","filter","setFilter","getBookings","users","forEach","bookingUser","undefined","handleStatusChange","handleCancel","handleBookingUpdate","handleSelectBooking","handleFilter","date","firstname","toLowerCase","match","lastname","toLocaleLowerCase","createdAt","toDateString","data-parent","defaultChecked","AdminPanel","href","aria-controls","aria-selected","aria-labelledby","Login","setUser","email","password","handleInputChange","setItem","Register","confirmPassword","BookingDetails","updateBookings","User","SetSelectedBooking","bookingResults","Error","Navbar","clear","tokern","Footer","App","setRole","exact","path","ReactDOM","render"],"mappings":"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","file":"static/js/main.d04c8da1.chunk.js","sourcesContent":["module.exports = {\r\n    handleError : (res) => {\r\n        if(res.message || res === \"Unauthorized\") {\r\n            window.location.replace(\"/err\")\r\n        }\r\n    }\r\n}","import React, { Fragment, useEffect, useState } from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport Fade from 'react-reveal/Fade';\r\nimport {handleError} from './../../functions/functions'\r\nimport Moment from 'react-moment'\r\n\r\nconst url = \"https://wrkst8ions-server.herokuapp.com\";\r\n\r\nconst WorkstationsList = ({limit}) => {\r\n    const user = {\r\n        user: JSON.parse(localStorage.getItem('user')),\r\n        token: localStorage.getItem('token')\r\n    }\r\n\r\n    const [data, setData] = useState({\r\n        startDate: null,\r\n        endDate: null,\r\n        workstationId: null,\r\n        userId: null\r\n    });\r\n    \r\n    const [newBooking, setNewBooking] = useState(null);\r\n    const [availableWorkstations, setAvailableWorkStations] = useState([]);\r\n    const [displayWorkstations, setDisplayWorkstations] = useState([]);\r\n    const [isLoading, setIsloading] = useState(false);\r\n    const [selectedWorkstation, setSelectedWorkstation] = useState(null);\r\n    const [result, setResult] = useState(null);\r\n\r\n    const refreshList = () => {\r\n        setAvailableWorkStations([]);\r\n            let filterData = {\r\n                startDate: data.startDate,\r\n                endDate: data.endDate\r\n            }\r\n\r\n            fetch(url + '/workstations/available',\r\n                    {\r\n                        method : \"POST\",\r\n                        body : JSON.stringify(filterData),\r\n                        headers : {\r\n                            \"Content-Type\" : \"application/json\",\r\n                        }\r\n                    }\r\n                )\r\n                .then(data => data.json())\r\n                .then(res => {\r\n                    handleError(res)\r\n                    return res\r\n                })\r\n                .then(list => {\r\n                    setAvailableWorkStations([...list]);\r\n                    if(limit) {\r\n                        let available = [];\r\n                        let i = 0;\r\n\r\n                        while(i <= limit && i < list.length) {\r\n                            available.push(list[i]);\r\n                            i++\r\n                        }\r\n\r\n                        setDisplayWorkstations([...available]);\r\n                    } else {\r\n                        setDisplayWorkstations([...list])\r\n                    }\r\n                    setIsloading(false);\r\n                })\r\n                .catch(err => {\r\n                    console.log(alert)\r\n                })\r\n    }\r\n    \r\n    useEffect(() => {\r\n        setIsloading(true);\r\n\r\n        const tomorrow = new Date();\r\n        tomorrow.setDate(tomorrow.getDate() + 1);\r\n        setData({\r\n            ...data,\r\n            startDate: new Date(),\r\n            endDate: tomorrow\r\n        })\r\n\r\n        fetch(url + '/workstations/available',\r\n                {\r\n                    method : \"POST\",\r\n                    body : JSON.stringify(data),\r\n                    headers : {\r\n                        \"Content-Type\" : \"application/json\",\r\n                    }\r\n                }\r\n            )\r\n            .then(data => data.json())\r\n            .then(res => {\r\n                handleError(res);\r\n                return res\r\n            })\r\n            .then(list => {\r\n                setAvailableWorkStations([...list]);\r\n                if(limit) {\r\n                    let available = [];\r\n                    let i = 0;\r\n\r\n                    while(i < limit && i < list.length) {\r\n                        available.push(list[i]);\r\n                        i++\r\n                    }\r\n\r\n                    setDisplayWorkstations([...available]);\r\n                } else {\r\n                    setDisplayWorkstations([...list])\r\n                }\r\n                setIsloading(false);\r\n            })\r\n    },[])\r\n    \r\n    useEffect(() => {\r\n        if(data.startDate && data.endDate) {\r\n            setIsloading(true);\r\n            refreshList()\r\n        }\r\n    },[data.startDate, data.endDate])\r\n\r\n    const handleDateChange = e => {\r\n        setData({\r\n            ...data,\r\n            workstationId : null,\r\n            [e.target.name] : e.target.value\r\n\r\n        })\r\n    }\r\n\r\n    const handleSelectWorkstation = e => {\r\n        if(data.workstationId && selectedWorkstation) {\r\n            document.getElementById(selectedWorkstation._id).classList.remove(\"selected\")\r\n        }\r\n\r\n        setSelectedWorkstation(availableWorkstations.find(workstation => workstation._id === e.target.value))\r\n        setData({\r\n            ...data,\r\n            workstationId: e.target.value\r\n        })\r\n\r\n        console.log(selectedWorkstation)\r\n        document.getElementById(e.target.value).classList.add(\"selected\");\r\n\r\n    }\r\n\r\n    const handleSubmitBooking = e => {\r\n        e.preventDefault();\r\n        setResult({});\r\n\r\n        console.log(user.token)\r\n\r\n        // console.log(JSON.stringify(data))\r\n\r\n        fetch(url + \"/bookings\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n                \"Content-Type\" : \"application/json\",\r\n                \"Authorization\" : user.token\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            handleError(res);\r\n            if(res.fail) {\r\n                \r\n            } else {\r\n                setNewBooking(res)\r\n                setSelectedWorkstation(null)\r\n                return res\r\n            }\r\n        })\r\n        .then(booking =>{\r\n            console.log(booking)\r\n        })\r\n    }\r\n\r\n    const handlePay = e => {\r\n        e.preventDefault()\r\n        fetch(url + \"/bookings/stripe\", {\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n                total: newBooking.booking.total\r\n            }),\r\n            headers: {\r\n                \"Authorization\": user.token,\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(payment => {\r\n            setResult({success: \"Hooray! You've successfully booked a workstation!\"})\r\n            console.log(payment)\r\n            window.open(payment.receipt_url);\r\n            setNewBooking(null)\r\n        })\r\n        .catch(res => {\r\n            setResult({fail: res.fail})\r\n        })\r\n    }\r\n\r\n\r\n    return (\r\n        <Fragment>\r\n            {/* START OF BOOKING FORM */}\r\n            <div className=\"booking-form--container position-sticky\">\r\n                <div className=\"bg-dark\">\r\n                    <div className=\"container\">\r\n                        <form className=\"row booking-form\" onSubmit={handleSubmitBooking}>\r\n                            <div className=\"col-md-6 d-none d-md-block\">\r\n                                <div className=\"form-inline d-flex my-3\">\r\n                                    <div className=\"flex-fill text-light\">\r\n                                        <label htmlFor=\"startDate\">Start:</label>\r\n                                    </div>\r\n                                    <div className=\"flex-fill ml-1\">\r\n                                        <input type=\"date\" name=\"startDate\" className=\"form-control w-100\" value={data.startDate ? data.startDate : \"\"} onChange={handleDateChange}/>\r\n                                    </div>\r\n                                    <div className=\"flex-fill text-light ml-1\">\r\n                                        <label htmlFor=\"endDate\">End:</label>\r\n                                    </div>\r\n                                    <div className=\"flex-fill ml-1\">\r\n                                        <input type=\"date\" name=\"endDate\" className=\"form-control w-100\" value={data.endDate ? data.endDate : \"\"} onChange={handleDateChange}/>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-12 form-group text-light my-3 d-md-none\">\r\n                                <label htmlFor=\"startDate\" className=\"mb-1\">Booking Date:</label>\r\n                                <input type=\"date\" name=\"startDate\" className=\"form-control mb-1\" placeholder=\"Start Date\" onChange={handleDateChange}/>\r\n                                <label htmlFor=\"startDate\" className=\"mb-1\">Booking Date:</label>\r\n                                <input type=\"date\" name=\"endDate\" className=\"form-control\" placeholder=\"End Date\" onChange={handleDateChange}/>\r\n                            </div>\r\n                            <div className=\"col-md-3 bg-secondary text-center text-light d-none d-md-block\">\r\n                                <span className=\"center w-100\">{selectedWorkstation ? selectedWorkstation.name : \"Select a Workstation\"}</span>\r\n                            </div>\r\n                            <div className=\"col-12 d-md-none text-center text-light bg-secondary py-3\">\r\n                                Selected Workstation\r\n                            </div>\r\n                            <button className=\"btn col-md-3 bg-primary text-light py-3\" type=\"submit\">BOOK WORKST8ION</button>\r\n                        </form>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row\">\r\n                    {result && result.success ? \r\n                    <div className=\"col-12 text-center\">\r\n                        <div className=\"alert alert-success rounded-0\">{result.success}</div>\r\n                    </div>\r\n                    :\"\"}\r\n                    \r\n                    {result && result.fail ? \r\n                        <div className=\"col-12 text-center\">\r\n                            <div className=\"alert alert-danger rounded-0\">{result.fail}</div>\r\n                        </div>\r\n                    :\"\"}\r\n                </div>\r\n            </div>\r\n            {/* END OF BOOKING FORM */}\r\n\r\n            {/* START OF NEW BOOKING */}\r\n            {newBooking ?\r\n                <div className=\"row bg-light\">\r\n                    <div className=\"col-12 bg-medium text-light p-3 px-md-5\">\r\n                        <h5 className=\"mb-0\">Booking Details:</h5>\r\n                    </div>\r\n                    <div className=\"col-md-8 mx-auto px-md-5\">\r\n                        <table className=\"table table-hover\">\r\n                            <tbody>\r\n                                <tr>\r\n                                    <td><strong>Start Date:</strong></td>\r\n                                    <td>\r\n                                        <Moment format=\"MMM D, YYYY\">\r\n                                            {newBooking.booking.startDate}\r\n                                        </Moment>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><strong>End Date:</strong></td>\r\n                                    <td>\r\n                                        <Moment format=\"MMM D, YYYY\">\r\n                                            {newBooking.booking.endDate}\r\n                                        </Moment>\r\n                                    </td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><strong>Workstation:</strong></td>\r\n                                    <td>{newBooking.workstation.name}</td>\r\n                                </tr>\r\n                                <tr>\r\n                                    <td><strong>Total:</strong></td>\r\n                                    <td>{newBooking.booking.total}</td>\r\n                                </tr>\r\n                            </tbody>\r\n                        </table>\r\n                    </div>\r\n                    <div className=\"col-12\">\r\n                        <button className=\"btn btn-primary w-100\" onClick={handlePay}>Pay Now</button>\r\n                    </div>\r\n                </div>\r\n            :\"\"}\r\n\r\n            {/* END OF NEW BOOKING */}\r\n\r\n            {!newBooking ?\r\n                <div className={limit ? \"container-fluid px-0 workstation__list\" : \"container-fluid px-0\"}>\r\n                    <div className=\"row w-100 m-0\">\r\n\r\n                    {/* START OF WORKSTATION LIST */}\r\n                    {isLoading ? \r\n                            <div className=\"text-light text-center center\">\r\n                                <h5>Loading Workstations...</h5>\r\n                            </div>\r\n                        :\r\n\r\n                        displayWorkstations.map((workstation, index) => {\r\n                            return (\r\n                                <Fade bottom distance=\"50px\" delay={index * 200} key={index}>\r\n                                    <div key={workstation._id} className=\"workstation workstation__tile\" id={workstation._id} >\r\n                                        <img src={workstation.image} alt={workstation.name} className=\"workstation__img\"/>\r\n                                        <div className=\"container text-light workstation__details\">\r\n                                            <div className=\"row\">\r\n                                                <div className=\"col-12\">\r\n                                                    <h5 className=\"border-bottom border-light pb-2 font-weight-light\">{workstation.name}</h5>\r\n                                                </div>\r\n                                                <div className=\"col-12 mb-3\">\r\n                                                    <span className=\"font-weight-bold\">\t&#8369; {workstation.price} </span>\r\n                                                    <span className=\"font-weight-light float-right\">{workstation.area} sqm.</span>\r\n                                                </div>\r\n                                                <div className=\"col-12 mb-4\">\r\n                                                    <p className=\"text-light\">{workstation.description}</p>\r\n                                                </div>\r\n\r\n                                                {user.role != \"admin\"?\r\n                                                    <div className=\"col-12\">\r\n                                                        <button className=\"btn btn-outline-light float-right\" onClick={handleSelectWorkstation} value={workstation._id} >Choose Workstation</button>\r\n                                                    </div>\r\n                                                :\"\"}\r\n\r\n                                            </div>\r\n                                        </div>\r\n                                    </div>\r\n                                </Fade>\r\n                            )\r\n                        })\r\n                    }\r\n\r\n                    {/* END OF WORKSTATION LIST */}\r\n                    {limit ? \r\n                        <Fade bottom distance=\"50px\" delay={displayWorkstations.length * 200}>\r\n                            <Link to=\"/workstations\">\r\n                                <div className={\"workstations__blank workstation__tile\" + (displayWorkstations.length % 3 === 0 ? \" lg\" : \"\") + (displayWorkstations.length % 3 === 1 ? \" md\" : \"\")}>\r\n                                    <div className=\"workstations__more\">\r\n                                        <h1 className=\"text-light workstation__icon\"><i className=\"fas fa-building\"></i></h1>\r\n                                        <p className=\"mb-0 lead text-light\">Click here to see more workstations</p>\r\n                                    </div>\r\n                                </div>\r\n                            </Link>\r\n                        </Fade>\r\n                    :\r\n                        \"\"\r\n                    }\r\n                    </div>\r\n                </div>\r\n            :\"\"}\r\n\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default WorkstationsList;","import React from 'react';\r\nimport WorkstationsList from './../layouts/WorkstationsList';\r\n\r\nconst Home = () => {\r\n    window.scrollTo(0, 0)\r\n    \r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row hero\">\r\n                <div className=\"container hero-container\">\r\n                    <div className=\"hero--copy col-10 mx-auto\">\r\n                        <h1 className=\"text-light mb-0\">The best office booking site in town</h1>\r\n                        <p className=\"lead text-light mb-0\">Good workplaces results in better productivity. Get one of the best offices in the country. Impress your clients.</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col-12 p-0\">\r\n                    <WorkstationsList limit={5}/>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col-md-6 about__image\">\r\n                </div>\r\n                <div className=\"col-md-6 bg-secondary text-light about\">\r\n                    <div className=\"about__details\">\r\n                        <h5>About Us</h5>\r\n                        <p className=\"mb-0\">Works8ions is the leading workspace space rental in the Philippines. Feel free to work in your ideal workstation and move your business forward. Have access to shared workspaces, conference rooms, amenities and many more. Rent and Share office spaces at Works8ions. Schedule a tour to view the office spaces we offer.</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Home; ","import React from 'react';\r\nimport WorkstationsList from './../layouts/WorkstationsList';\r\n\r\nconst Workstations = () => {\r\n\r\n\twindow.scrollTo(0, 0)\r\n\t\r\n    return (\r\n        <div className=\"container-fluid\">\r\n            <div className=\"row workstations__hero\">\r\n                <div className=\"container hero-container\">\r\n                    <div className=\"hero--copy col-10 mx-auto\">\r\n                        <h1 className=\"text-light mb-0\">The best office booking site in town</h1>\r\n                        <p className=\"lead text-light mb-0\">Good workplaces results in better productivity. Get one of the best offices in the country. Impress your clients.</p>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            <div className=\"row\">\r\n                <div className=\"col-12 p-0\">\r\n                    <WorkstationsList/>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Workstations; ","import React, {useState} from 'react';\r\n\r\nimport {handleError} from './../../functions/functions'\r\n\r\nconst NewWorkstation = ({getWorkstations, setWorkstations}) => {\r\n\r\n    const url = \"https://wrkst8ions-server.herokuapp.com\";\r\n\r\n    const [data, setData] = useState({\r\n        name : \"\",\r\n        category : \"\",\r\n        price : \"\",\r\n        area : \"\",\r\n        description: \"\",\r\n        location : \"\",\r\n        image : null,\r\n    })\r\n\r\n    const [result, setResult] = useState(null)\r\n\r\n    const [preview, setPreview] = useState(null);\r\n\r\n    const handleTextChange = e => {\r\n        setData({\r\n            ...data,\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    const handleFileUpload = e => {\r\n        setResult(null);\r\n        if(e.targget.files && e.target.files[0].size > 1000000) {\r\n            setResult({fail: \"Image must be less than 1mb\"});\r\n        } else {\r\n            setData({\r\n                ...data,\r\n                image : e.target.files[0]\r\n            })\r\n            var reader = new FileReader();\r\n\r\n            reader.onload = function (e) {\r\n                setPreview(e.target.result)\r\n            };\r\n            \r\n            reader.readAsDataURL(e.target.files[0]);\r\n        }\r\n    }\r\n\r\n    const handleAddWorkstation = e => {\r\n        setResult(null);\r\n        e.preventDefault();\r\n\r\n        if(data.image.size > 1000000) {\r\n            setResult({fail: \"Image must be less than 1mb\"});\r\n        } else {\r\n            const formData = new FormData();\r\n    \r\n            formData.append('name', data.name);\r\n            formData.append('category', data.category);\r\n            formData.append('price', data.price);\r\n            formData.append('description', data.description);\r\n            formData.append('area', data.area);\r\n            formData.append('location', data.location);\r\n            formData.append('image', data.image);\r\n    \r\n            fetch(url + \"/workstations\", {\r\n                method: \"POST\",\r\n                body: formData\r\n            })\r\n            .then(data => data.json())\r\n            .then(res => {\r\n                handleError(res)\r\n                return res\r\n            })\r\n            .then(res => {\r\n                if(res.fail) {\r\n                    setResult({\r\n                        fail: res.fail\r\n                    })\r\n                }else {\r\n                    setResult({\r\n                        success: \"Workstation successfully created\"\r\n                    })\r\n                }\r\n                getWorkstations();\r\n            })\r\n            .catch(err => {\r\n                console(err.message)\r\n            })\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"row pb-3\">\r\n            {result && result.success ? \r\n                <div className=\"col-12 text-center mb-3\">\r\n                    <div className=\"alert alert-success\">{result.success}</div>\r\n                </div>\r\n            :\"\"}\r\n            \r\n            {result && result.fail ? \r\n                <div className=\"col-12 text-center mb-3\">\r\n                    <div className=\"alert alert-danger\">{result.fail}</div>\r\n                </div>\r\n            :\"\"}\r\n\r\n            <div className=\"col-md-6\">\r\n                {preview ?\r\n                    <img src={preview} alt=\"\" className=\"img-fluid w-100 pl-md-3\"/>\r\n                :\r\n                    <div className=\"h-100 bg-medium ml-md-3\">\r\n                        <i className=\"far fa-image text-light icon--xl center\"></i>\r\n                    </div>\r\n                }\r\n            </div>\r\n            <div className=\"col-md-6\">\r\n                <form className=\"w-100 row mx-0\" encType=\"multipart/form-data\" onSubmit={handleAddWorkstation}>\r\n                    <div className=\"col-12 px-0 px-md-3 form-group\">\r\n                        <label htmlFor=\"name\">Name:</label>\r\n                        <input type=\"text\" name=\"name\" onChange={handleTextChange} value={data.name} required className=\"form-control w-100\"/>\r\n                    </div>\r\n                    <div className=\"col-md-6 px-0 px-md-3 form-group\">\r\n                        <label htmlFor=\"category\">Category:</label>\r\n                        <select name=\"category\" onChange={handleTextChange} defaultValue=\"select\" required className=\"form-control\">\r\n                            <option value=\"select\" disabled>Select Category</option>\r\n                            <option value=\"desk\">Desk</option>\r\n                            <option value=\"office\">Office</option>\r\n                            <option value=\"meeting room\">Meeting Room</option>\r\n                            <option value=\"unit\">Unit</option>\r\n                            <option value=\"special\">Special</option>\r\n                        </select>\r\n                    </div>\r\n                    <div className=\"col-md-6 px-0 px-md-3 form-group\">\r\n                        <label htmlFor=\"price\">Price:</label>\r\n                        <input type=\"number\" min=\"1\" name=\"price\" onChange={handleTextChange} value={data.price} required className=\"form-control\"/>\r\n                    </div>\r\n                    <div className=\"col-md-6 px-0 px-md-3 form-group\">\r\n                        <label htmlFor=\"area\">Area:</label>\r\n                        <input type=\"number\" min=\"1\" name=\"area\" onChange={handleTextChange} value={data.area} required className=\"form-control\"/>\r\n                    </div>\r\n                    <div className=\"col-md-6 px-0 px-md-3 form-group\">\r\n                        <label htmlFor=\"location\">Location:</label>\r\n                        <input type=\"text\"  name=\"location\" onChange={handleTextChange} value={data.location} required className=\"form-control\"/>\r\n                    </div>\r\n                    <div className=\"col-12 px-0 px-md-3 form-group\">\r\n                        <label htmlFor=\"location\">Description:</label>\r\n                        <textarea name=\"description\" rows=\"5\" required className=\"form-control\" onChange={handleTextChange} value={data.description} ></textarea>\r\n                    </div>\r\n                    <div className=\"col-12 px-0 px-md-3 form-group\">\r\n                        <label htmlFor=\"image\">Image:</label>\r\n                        <div className=\"input-group\">\r\n                            <div className=\"input-group-prepend\">\r\n                                <span className=\"input-group-text\">Upload</span>\r\n                            </div>\r\n                            <div className=\"custom-file\">\r\n                                <input type=\"file\" className=\"custom-file-input\" name=\"file\" accept=\"image/*\" required onChange={handleFileUpload} />\r\n                                <label className=\"custom-file-label\" htmlFor=\"file\">{data.image ? data.image.name : \"Choose an image\"}</label>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-xl-6 mt-4 px-0 px-md-3\">\r\n                        <button className=\"btn btn-primary w-100\">SUBMIT WORKSTATION</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default NewWorkstation;","import React, {useState, Fragment} from 'react';\r\n\r\nimport {handleError} from './../../functions/functions'\r\n\r\nconst EditWorkstation = ({workstations, getWorkstations, setWorkstations}) => {\r\n\r\n    const url = \"https://wrkst8ions-server.herokuapp.com\";\r\n\r\n    const [selectedWorkstation, setSelectedWorkstation] = useState(null);\r\n\r\n    const [data, setData] = useState({\r\n        name : \"\",\r\n        category : \"\",\r\n        price : \"\",\r\n        area : \"\",\r\n        description: \"\",\r\n        location : \"\",\r\n        image : null,\r\n    })\r\n\r\n    const [result, setResult] = useState(null);\r\n\r\n    const [preview, setPreview] = useState(null);\r\n\r\n    const handleTextChange = e => {\r\n        setData({\r\n            ...data,\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    const handleFileUpload = e => {\r\n        console.log(e.target.files[0])\r\n        setData({\r\n            ...data,\r\n            image : e.target.files[0]\r\n        })\r\n        var reader = new FileReader();\r\n\r\n        reader.onloadend = function (e) {\r\n            setPreview(reader.result);\r\n        }\r\n        console.log(data)\r\n    }\r\n\r\n    const handleEditWorkstation = e => {\r\n        e.preventDefault();\r\n\r\n        const formData = new FormData();\r\n\r\n        formData.append('name', data.name);\r\n        formData.append('category', data.category);\r\n        formData.append('price', data.price);\r\n        formData.append('description', data.description);\r\n        formData.append('area', data.area);\r\n        formData.append('location', data.location);\r\n        formData.append('image', data.image);\r\n\r\n        fetch(url + \"/workstations/\" + data._id, {\r\n\t\t\tmethod: \"PUT\",\r\n\t\t\tbody: formData\r\n        })\r\n        .then(data => data.json())\r\n        .then(res => {\r\n            handleError(res)\r\n            if(res.fail) {\r\n                if(res.fail.codeName === \"DuplicateKey\") {\r\n                    setResult({fail: \"Workstation with that name already exists\"})\r\n                }                \r\n            } else {\r\n                setResult({success: \"Workstation updated successfully\"})\r\n            }\r\n            return res\r\n        })\r\n        .then(product => {\r\n            getWorkstations();\r\n        })\r\n        .catch(err => {\r\n            console(err.message)\r\n        })\r\n    }\r\n\r\n    const handleSelectWorkstation = e => {\r\n        fetch(url + \"/workstations/\" + e.target.value)\r\n        .then(data => data.json())\r\n        .then(res => {\r\n            handleError(res)\r\n            return res\r\n        })\r\n        .then(workstation => {\r\n            setSelectedWorkstation(workstation)\r\n            setData({...workstation})\r\n        })\r\n        .catch(err => {\r\n            console(err.message)\r\n        })\r\n    }\r\n\r\n    const handleDeleteWorkstation = () => {\r\n        fetch(url + \"/workstations/\" + selectedWorkstation._id,\r\n            {\r\n                method: \"DELETE\"\r\n            }\r\n        )\r\n        .then(result => result.json())\r\n        .then(res => {\r\n            handleError(res)\r\n            return res\r\n        })\r\n        .then(deletedWorkstation => {\r\n            console.log(deletedWorkstation)\r\n            setSelectedWorkstation(null)\r\n            getWorkstations();\r\n        })\r\n        .catch(err => {\r\n            console(err.message)\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n        <div className=\"row border-bottom mb-3\">\r\n            <div className=\"col-md-6 mx-auto pb-3\">\r\n                <select name=\"workstation\" id=\"workstation\" className=\"form-control w-100\" value={selectedWorkstation ? selectedWorkstation._id : \"select\"} onChange={handleSelectWorkstation}>\r\n                    <option value=\"select\" disabled >Select a Workstation</option>\r\n                    {workstations.map((workstation, index) => {\r\n                        return(\r\n                            <option value={workstation._id} key={index}>{workstation.name}</option>\r\n                        )\r\n                    })}\r\n                </select>\r\n            </div>\r\n        </div>\r\n        <div className=\"row pb-3\">\r\n            {result && result.success ? \r\n                <Fragment>\r\n                    <div className=\"col-12 text-center\">\r\n                        <div className=\"alert alert-success\">{result.success}</div>\r\n                    </div>\r\n                </Fragment>\r\n            :\"\"}\r\n            \r\n            {result && result.fail ? \r\n                <Fragment>\r\n                    <div className=\"col-12 text-center\">\r\n                        <div className=\"alert alert-danger\">{result.fail}</div>\r\n                    </div>\r\n                </Fragment>\r\n            :\"\"}\r\n            {selectedWorkstation ?\r\n                <Fragment>\r\n                    <div className=\"col-md-6\">\r\n                        <img src={preview ? preview : selectedWorkstation.image} alt=\"\" className=\"img-fluid w-100 pl-md-3\"/>\r\n                    </div>\r\n                    <div className=\"col-md-6 mt-3 mt-md-0\">\r\n                        <form className=\"w-100 row mx-0\" encType=\"multipart/form-data\" onSubmit={handleEditWorkstation}>\r\n                            <div className=\"col-12 px-0 px-md-3 form-group\">\r\n                                <label htmlFor=\"name\">Name:</label>\r\n                                <input type=\"text\" name=\"name\" onChange={handleTextChange} value={data.name} className=\"form-control w-100\"/>\r\n                            </div>\r\n                            <div className=\"col-md-6 px-0 px-md-3 form-group\">\r\n                                <label htmlFor=\"category\">Category:</label>\r\n                                <select name=\"category\" onChange={handleTextChange} value={data.category} required className=\"form-control\">\r\n                                    <option value=\"desk\">Desk</option>\r\n                                    <option value=\"office\">Office</option>\r\n                                    <option value=\"meeting room\">Meeting Room</option>\r\n                                    <option value=\"unit\">Unit</option>\r\n                                    <option value=\"special\">Special</option>\r\n                                </select>\r\n                            </div>\r\n                            <div className=\"col-md-6 px-0 px-md-3 form-group\">\r\n                                <label htmlFor=\"price\">Price:</label>\r\n                                <input type=\"number\" min=\"1\" name=\"price\" onChange={handleTextChange} value={data.price} className=\"form-control\"/>\r\n                            </div>\r\n                            <div className=\"col-md-6 px-0 px-md-3 form-group\">\r\n                                <label htmlFor=\"area\">Area:</label>\r\n                                <input type=\"number\" min=\"1\" name=\"area\" onChange={handleTextChange} value={data.area} className=\"form-control\"/>\r\n                            </div>\r\n                            <div className=\"col-md-6 px-0 px-md-3 form-group\">\r\n                                <label htmlFor=\"location\">Location:</label>\r\n                                <input type=\"text\"  name=\"location\" onChange={handleTextChange} value={data.location} className=\"form-control\"/>\r\n                            </div>\r\n                            <div className=\"col-12 px-0 px-md-3 form-group\">\r\n                                <label htmlFor=\"location\">Description:</label>\r\n                                <textarea name=\"description\" rows=\"5\" className=\"form-control\" onChange={handleTextChange} value={data.description} ></textarea>\r\n                            </div>\r\n                            <div className=\"col-12 px-0 px-md-3 form-group\">\r\n                                <label htmlFor=\"image\">Image:</label>\r\n                                <div className=\"input-group\">\r\n                                    <div className=\"input-group-prepend\">\r\n                                        <span className=\"input-group-text\">Upload</span>\r\n                                    </div>\r\n                                    <div className=\"custom-file\">\r\n                                        <input type=\"file\" className=\"custom-file-input\" name=\"file\" onChange={handleFileUpload} />\r\n                                        <label className=\"custom-file-label\" htmlFor=\"file\">{data.image ? data.image.name : \"Choose an image\"}</label>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                            <div className=\"col-lg-6 mt-2 px-0 px-md-3\">\r\n                                <button className=\"btn btn-secondary px-lg-5 w-100\" type=\"button\" data-toggle=\"modal\" data-target=\"#editModal\">UPDATE</button>\r\n                            </div>\r\n                            <div className=\"col-lg-6 mt-2 px-0 px-md-3\">\r\n                                <button className=\"btn btn-primary px-lg-5 w-100\" type=\"button\" data-toggle=\"modal\" data-target=\"#deleteModal\">DELETE</button>\r\n                            </div>\r\n                        </form>\r\n                    </div>\r\n\r\n                    <div className=\"modal fade\" id=\"editModal\" tabIndex=\"-1\" role=\"dialog\" >\r\n                        <div className=\"modal-dialog\" role=\"document\">\r\n                            <div className=\"modal-content\">\r\n                                <div className=\"modal-header\">\r\n                                    <h5 className=\"modal-title\" id=\"editModalTitle\">Update Workstation</h5>\r\n                                </div>\r\n                                <div className=\"modal-body\">\r\n                                    <p className=\"text-center mb-0\">Are you sure you want to Update this workstation?</p>\r\n                                </div>\r\n                                <div className=\"modal-footer\">\r\n                                    <button className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={handleEditWorkstation}>Yes</button>\r\n                                    <button className=\"btn btn-medium\" data-dismiss=\"modal\">Cancel</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"modal fade\" id=\"deleteModal\" tabIndex=\"-1\" role=\"dialog\" >\r\n                        <div className=\"modal-dialog\" role=\"document\">\r\n                            <div className=\"modal-content\">\r\n                                <div className=\"modal-header\">\r\n                                    <h5 className=\"modal-title\" id=\"deleteModalTitle\">Delete Workstation</h5>\r\n                                </div>\r\n                                <div className=\"modal-body\">\r\n                                    <p className=\"text-center mb-0\">Are you sure you want to delete this workstation?</p>\r\n                                </div>\r\n                                <div className=\"modal-footer\">\r\n                                    <button className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={handleDeleteWorkstation}>Yes</button>\r\n                                    <button className=\"btn btn-medium\" data-dismiss=\"modal\">Cancel</button>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n\r\n                </Fragment>\r\n            :\r\n                <div className=\"col-12 text-center pt-5\">\r\n                    <p>Please select a workstation</p>\r\n                </div>\r\n\r\n            }\r\n        </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default EditWorkstation;","import React, {useState, useEffect, Fragment} from 'react';\r\nimport Moment from 'react-moment';\r\n\r\nimport {handleError} from './../../functions/functions'\r\n\r\nconst url = \"https://wrkst8ions-server.herokuapp.com\";\r\n\r\nconst Bookings = ({workstations}) => {\r\n    const user = {\r\n        user: JSON.parse(localStorage.getItem('user')),\r\n        token: localStorage.getItem('token')\r\n    }\r\n\r\n    const [status, setStatus] = useState({\r\n        status: null\r\n    })\r\n    const [selectedBooking, setSelectedBooking] = useState(null)\r\n\r\n    const [bookings, setBookings] = useState([]);\r\n    const [displayBookings, setDisplayBookings] = useState([])\r\n    \r\n    const [filter, setFilter] = useState({\r\n        status: \"\",\r\n        name : \"\",\r\n        transactionCode: \"\",\r\n        workstation : \"\",\r\n    })\r\n\r\n    const getBookings = () => {\r\n        fetch(url + \"/bookings\", {\r\n            headers: {\r\n                \"Authorization\" : localStorage.getItem('token')\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            handleError(res)\r\n            return res\r\n        })\r\n        .then(bookings => {\r\n            fetch(url + \"/users\", {\r\n                headers: {\r\n                    \"Authorization\" : localStorage.getItem('token')\r\n                }\r\n            })\r\n            .then(res => res.json())\r\n            .then(res => {\r\n                handleError(res)\r\n                return res\r\n            })\r\n            .then(users => {\r\n                if(user.user.role === \"admin\") {\r\n                    bookings.forEach(booking => {\r\n                        let bookingUser = users.find(user => user._id === booking.userId);\r\n                        if(bookingUser !== undefined) {\r\n                            booking.user = bookingUser\r\n                        }\r\n                    })\r\n                } else {\r\n                    bookings.forEach(booking => {\r\n                        booking.user = user.user\r\n                    })\r\n                }\r\n                fetch(url + \"/workstations\")\r\n                .then(res => res.json())\r\n                .then(res => {\r\n                    handleError(res)\r\n                    return res\r\n                })\r\n                .then(workstations => {\r\n                    bookings.forEach(booking => {\r\n                        booking.workstation = workstations.find(workstation => workstation._id === booking.workstationId)\r\n                    })\r\n                    setBookings([...bookings]);\r\n                    setDisplayBookings([...bookings])\r\n                })\r\n            })\r\n        })\r\n    }\r\n\r\n    const handleStatusChange = e => {\r\n        setStatus({status: e.target.value})\r\n    }\r\n    \r\n    const handleCancel = () => {\r\n        setStatus({status: null});\r\n        setSelectedBooking(null);\r\n    }\r\n\r\n    const handleBookingUpdate = e => {\r\n        fetch(url + \"/bookings/\" + selectedBooking, {\r\n            method: \"PUT\",\r\n            body: JSON.stringify(status),\r\n            headers: {\r\n                \"Content-Type\" : \"application/json\",\r\n                \"Authorization\" : user.token\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            handleError(res)\r\n            return res\r\n        })\r\n        .then(booking => getBookings())\r\n    }\r\n\r\n    const handleSelectBooking = e => {\r\n        setSelectedBooking(e.target.value)\r\n    }\r\n\r\n    useEffect(() => {\r\n        getBookings()\r\n    },[])\r\n\r\n    // Filter\r\n    const handleFilter = e => {\r\n        setFilter({\r\n            ...filter,\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    // Workstation FIlter\r\n    useEffect(() => {\r\n        setDisplayBookings(bookings.filter(booking => {\r\n            if(filter.date) {\r\n                return  (booking.user.firstname.toLowerCase().match(filter.name.toLowerCase()) || booking.user.lastname.toLowerCase().match(filter.name.toLowerCase()))\r\n                && booking.workstation.name.toLowerCase().match(filter.workstation.toLowerCase())\r\n                && booking.transactionCode.toLowerCase().match(filter.transactionCode.toLowerCase())\r\n                && booking.status.toLowerCase().match(filter.status.toLocaleLowerCase())\r\n                && new Date(booking.createdAt).toDateString().match(new Date(filter.date).toDateString())\r\n            } else {\r\n                return  (booking.user.firstname.toLowerCase().match(filter.name.toLowerCase()) || booking.user.lastname.toLowerCase().match(filter.name.toLowerCase()))\r\n                && booking.workstation.name.toLowerCase().match(filter.workstation.toLowerCase())\r\n                && booking.transactionCode.toLowerCase().match(filter.transactionCode.toLowerCase())\r\n                && booking.status.toLowerCase().match(filter.status.toLocaleLowerCase())\r\n            }\r\n        }))\r\n        \r\n    },[filter, bookings])\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"col-12\">\r\n            <div className=\"row\">\r\n                <div className=\"col-lg-4 p-0\" id=\"bookingsAccordion\">\r\n                    <div className=\"accordion\">\r\n                        <div className=\"card bookingsFilter\">\r\n                            <div className=\"card-header py-0\">\r\n                                <h5 className=\"mb-0\">\r\n                                    <button className=\"btn btn-link pl-0\" type=\"button\" data-toggle=\"collapse\" data-target=\"#filterStatus\">\r\n                                        Status\r\n                                    </button>\r\n                                </h5>\r\n                            </div>\r\n                            <div className=\"collapse show\" id=\"filterStatus\" data-parent=\"#bookingsAccordion\">\r\n                                <div className=\"card-body\">\r\n                                    <div className=\"d-flex\">\r\n                                        <div className=\"form-group flex-fill mb-0\">\r\n                                            <input className=\"mr-2\" type=\"radio\" name=\"status\" onChange={handleFilter} value=\"\" defaultChecked/>\r\n                                            <label className=\"mb-0\" htmlFor=\"all\">All</label>\r\n                                        </div>\r\n                                        <div className=\"form-group flex-fill mb-0\">\r\n                                            <input className=\"mr-2\" type=\"radio\" name=\"status\" onChange={handleFilter} value=\"Pending\"/>\r\n                                            <label className=\"mb-0\" htmlFor=\"pending\">Pending</label>\r\n                                        </div>\r\n                                        <div className=\"form-group flex-fill mb-0\">\r\n                                            <input className=\"mr-2\" type=\"radio\" name=\"status\" onChange={handleFilter} value=\"Approved\"/>\r\n                                            <label className=\"mb-0\" htmlFor=\"approved\">Approved</label>\r\n                                        </div>\r\n                                        <div className=\"form-group flex-fill mb-0\">\r\n                                            <input className=\"mr-2\" type=\"radio\" name=\"status\" onChange={handleFilter} value=\"Cancelled\"/>\r\n                                            <label className=\"mb-0\" htmlFor=\"cancelled\">Cancelled</label>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"card bookingsFilter\">\r\n                            <div className=\"card-header py-0\">\r\n                                <h5 className=\"mb-0\">\r\n                                    <button className=\"btn btn-link pl-0\" type=\"button\" data-toggle=\"collapse\" data-target=\"#filterSearch\">\r\n                                        Search\r\n                                    </button>\r\n                                </h5>\r\n                            </div>\r\n                            <div className=\"collapse\" id=\"filterSearch\" data-parent=\"#bookingsAccordion\">\r\n                                <div className=\"card-body\">\r\n                                    <div className=\"form-group\">\r\n                                        <label htmlFor=\"name\">User Name:</label>\r\n                                        <input type=\"text\" name=\"name\" className=\"form-control\" id=\"filterUser\" onChange={handleFilter} placeholder=\"Name\"/>\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label htmlFor=\"workstation\">Workstation Name:</label>\r\n                                        <input type=\"text\" name=\"workstation\" className=\"form-control\" id=\"filterWorkstation\" onChange={handleFilter} placeholder=\"Workstation\"/>\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label htmlFor=\"transactionCode\">Transaction Code:</label>\r\n                                        <input type=\"text\" name=\"transactionCode\" className=\"form-control\" id=\"filterTransactionCode\" onChange={handleFilter} placeholder=\"Transaction Code\"/>\r\n                                    </div>\r\n                                    <div className=\"form-group\">\r\n                                        <label htmlFor=\"date\">Transaction Date:</label>\r\n                                        <input type=\"date\" name=\"date\" className=\"form-control\" id=\"filterDate\" onChange={handleFilter} placeholder=\"Transaction Date\"/>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className=\"col-lg-8\">\r\n                    <div className=\"row\">\r\n                        <div className=\"col-12 py-3\">\r\n                            <h5>Results</h5>\r\n                        </div>\r\n                        <div className=\"col-12 pb-3\">\r\n                            <div className=\"row\">\r\n                                {/* START OF BOOKING LIST */}\r\n                                {displayBookings.map((booking, index) => {\r\n                                    return(\r\n                                        <Fragment key={index}>\r\n                                            <div className=\"col-md-6 p-1\">\r\n                                                <div className=\"card\">\r\n                                                    <div className=\"card-header\">\r\n                                                        <span>{booking.transactionCode}</span>\r\n                                                        <span className=\"badge bg-secondary ml-2 text-light\">{booking.status}</span>\r\n                                                    </div>\r\n                                                    <div className=\"card-body\">\r\n                                                        <div className=\"col-12 px-0\">\r\n                                                            <strong>Workstation:</strong> {booking.workstation.name}\r\n                                                        </div>\r\n                                                        <div className=\"col-12 px-0\">\r\n                                                            <strong>User:</strong> {`${booking.user.firstname} ${booking.user.lastname}`}\r\n                                                        </div>\r\n                                                        <div className=\"col-12 px-0\">\r\n                                                            {<strong className=\"mr-1\">Date:</strong>}\r\n                                                            <Moment format=\"MMM D, YYYY\">\r\n                                                                {booking.createdAt}\r\n                                                            </Moment>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                    <div className=\"card-footer p-0\">\r\n                                                        <button className=\"btn btn-primary btn-sm w-100\" data-toggle=\"modal\" data-target={`#modal${index}`} value={booking._id} onClick={handleSelectBooking}>View</button>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n\r\n                                            <div className=\"modal fade\" id={`modal${index}`} tabIndex=\"-1\" role=\"dialog\" >\r\n                                                <div className=\"modal-dialog modal-lg\" role=\"document\">\r\n                                                    <div className=\"modal-content\">\r\n                                                        <div className=\"modal-header\">\r\n                                                            <h5 className=\"modal-title\" id={`${index}-modalTitle`}>\r\n                                                                Transaction: {booking.transactionCode}\r\n                                                                <span className=\"px-3 mx-3 border-left\">\r\n                                                                    <Moment format=\"MMM D, YYYY\">\r\n                                                                        {booking.createdAt}\r\n                                                                    </Moment>\r\n                                                                </span> \r\n                                                                <span className=\"badge bg-secondary text-light\">{booking.status}</span>\r\n                                                            </h5>\r\n                                                        </div>\r\n                                                        <div className=\"modal-body\">\r\n                                                            <table className=\"table table-hover\">\r\n                                                                <tbody>\r\n                                                                    <tr>\r\n                                                                        <td><strong>User:</strong></td>\r\n                                                                        <td>{`${booking.user.firstname} ${booking.user.lastname}`}</td>\r\n                                                                    </tr>\r\n                                                                    <tr>\r\n                                                                        <td><strong>Start Date:</strong></td>\r\n                                                                        <td>\r\n                                                                            <Moment format=\"MMM D, YYYY\">\r\n                                                                                {booking.startDate}\r\n                                                                            </Moment>\r\n                                                                        </td>\r\n                                                                    </tr>\r\n                                                                    <tr>\r\n                                                                        <td><strong>End Date:</strong></td>\r\n                                                                        <td>\r\n                                                                            <Moment format=\"MMM D, YYYY\">\r\n                                                                                {booking.endDate}\r\n                                                                            </Moment>\r\n                                                                        </td>\r\n                                                                    </tr>\r\n                                                                    <tr>\r\n                                                                        <td><strong>Workstation:</strong></td>\r\n                                                                        <td>{booking.workstation.name}</td>\r\n                                                                    </tr>\r\n                                                                    <tr>\r\n                                                                        <td><strong>Total:</strong></td>\r\n                                                                        <td>&#8369; {booking.total}</td>\r\n                                                                    </tr>\r\n                                                                    <tr>\r\n                                                                        <td><strong>Change Status:</strong></td>\r\n                                                                        <td>\r\n                                                                            <div className=\"form-group mb-0\">\r\n                                                                                <select name=\"status\" id=\"status\" className=\"form-control\"\r\n                                                                                defaultValue={booking.status} onChange={handleStatusChange}>\r\n                                                                                    {user.user.role === \"admin\" ?\r\n                                                                                        <Fragment>\r\n                                                                                            <option value=\"Pending\">Pending</option>\r\n                                                                                            <option value=\"Approved\">Approved</option>\r\n                                                                                        </Fragment>\r\n                                                                                    : \"\" }\r\n                                                                                    <option value=\"Cancelled\">Cancelled</option>\r\n                                                                                </select>\r\n                                                                            </div>\r\n                                                                        </td>\r\n                                                                    </tr>\r\n                                                                </tbody>\r\n                                                            </table>\r\n                                                        </div>\r\n                                                        <div className=\"modal-footer\">\r\n                                                            <button className=\"btn btn-primary\" data-dismiss=\"modal\" onClick={handleBookingUpdate}>Update</button>\r\n                                                            <button className=\"btn btn-medium\" data-dismiss=\"modal\" onClick={handleCancel}>Cancel</button>\r\n                                                        </div>\r\n                                                    </div>\r\n                                                </div>\r\n                                            </div>\r\n                                        </Fragment>\r\n                                    )\r\n                                })}\r\n                                {/* END OF BOOKING LIST */}\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div> \r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Bookings;","import React, {Fragment, useState, useEffect} from 'react';\r\n\r\nimport NewWorkstation from './../forms/NewWorkstation'\r\nimport EditWorkstation from './../forms/EditWorkstation'\r\nimport Bookings from './../layouts/Bookings'\r\n\r\nimport {handleError} from './../../functions/functions'\r\n\r\nconst AdminPanel = () => {\r\n\r\n    const [workstations, setWorkstations] = useState([]);\r\n    const url = \"https://wrkst8ions-server.herokuapp.com\";\r\n\r\n    const getWorkstations = () => {\r\n        fetch(url + \"/workstations\", {\r\n            method: \"GET\",\r\n            headers: {\r\n                \"Content-Type\" : \"application/json\"\r\n            }\r\n        })\r\n        .then(data => data.json())\r\n        .then(res => {\r\n            handleError(res);\r\n            return res\r\n        })\r\n        .then(list => {\r\n            setWorkstations([...list]);\r\n        })\r\n        .catch(err => {\r\n            console(err.message)\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        getWorkstations()\r\n\r\n    }, [])\r\n\r\n    return(\r\n        <Fragment>\r\n            <div className=\"container admin-panel\">\r\n\r\n                {/* WORKSTATIONS */}\r\n                <div className=\"row mt-md-4 bg-light m-md-3\">\r\n                    <div className=\"col-12 bg-primary py-3 admin__header\">\r\n                        <h5 className=\"text-light mb-0\">Workstations</h5>\r\n                    </div>\r\n                    <div className=\"col-12 px-3 mb-3\">\r\n                        <ul className=\"nav nav-pills border-bottom p-3 mb-3\" id=\"pills-tab\" role=\"tablist\">\r\n                            <li className=\"nav-item\">\r\n                                <a className=\"nav-link active\" id=\"newWorkstation-tab\" data-toggle=\"pill\" href=\"#newWorkstation\" role=\"tab\" aria-controls=\"newWorkstation\" aria-selected=\"true\">New Workstation</a>\r\n                            </li>\r\n                            <li className=\"nav-item\">\r\n                                <a className=\"nav-link\" id=\"pills-viewWorkstations-tab\" data-toggle=\"pill\" href=\"#pills-viewWorkstations\" role=\"tab\" aria-controls=\"pills-viewWorkstations\" aria-selected=\"false\">View Workstations</a>\r\n                            </li>\r\n                        </ul>\r\n                        <div className=\"tab-content\" id=\"pills-tabContent\">\r\n                            <div className=\"tab-pane fade show active\" id=\"newWorkstation\" role=\"tabpanel\" aria-labelledby=\"newWorkstation-tab\">\r\n                                <NewWorkstation getWorkstations={getWorkstations} setWorkstations={setWorkstations}/>\r\n                            </div>\r\n                            <div className=\"tab-pane fade\" id=\"pills-viewWorkstations\" role=\"tabpanel\" aria-labelledby=\"pills-viewWorkstations-tab\">\r\n                                <EditWorkstation workstations={workstations}  getWorkstations={getWorkstations} setWorkstations={setWorkstations}/>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                \r\n                {/* BOOKINGS */}\r\n                <div className=\"row mt-md-4 bg-light m-md-3 mb-md-5\">\r\n                    <div className=\"col-12 bg-primary py-3 admin__header\">\r\n                        <h5 className=\"text-light mb-0\">Bookings</h5>\r\n                    </div>\r\n                    <Bookings workstations={workstations}/>\r\n                </div>\r\n\r\n                \r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default AdminPanel;","import React, {Fragment, useState} from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport {handleError} from './../../functions/functions'\r\n\r\nconst url = \"https://wrkst8ions-server.herokuapp.com\";\r\n\r\nconst Login = ({user,setUser}) => {\r\n\r\n    const [data, setData] = useState(\r\n        {\r\n            email: \"\",\r\n            password: \"\"\r\n        }\r\n    );\r\n\r\n    const [result, setResult] = useState(null)\r\n\r\n    const handleInputChange = e => {\r\n        setData({\r\n            ...data,\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n\r\n        fetch(url + \"/users/login\", {\r\n            method: \"POST\",\r\n            body : JSON.stringify(data),\r\n            headers: {\r\n                \"Content-Type\" : \"application/json\"\r\n            }\r\n        })\r\n        .then(data => data.json())\r\n        .then(res => {\r\n            handleError(res);\r\n            return res\r\n        })\r\n        .then(user => {\r\n            if(user.fail) {\r\n                setResult({fail: user.fail})\r\n            } else {\r\n                localStorage.setItem('user', JSON.stringify(user.user));\r\n                localStorage.setItem('token', 'Bearer ' + user.token);\r\n                setUser({\r\n                    user: JSON.parse(localStorage.getItem(\"user\")),\r\n                    token : localStorage.getItem(\"token\")\r\n                  })\r\n            }\r\n        })\r\n    }\r\n    \r\n    return (\r\n        <Fragment>\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-8 col-lg-4 login\">\r\n                        {user.token?\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header\">\r\n                                    Login\r\n                                </div>\r\n                                <div className=\"card-body px-md-5\">\r\n                                <h5 className=\"text-center\">Welcome, {user.user.firstname}</h5>\r\n                                </div>\r\n                            </div>\r\n                        :\r\n                            <form className=\"mb-0\" onSubmit={handleSubmit}>\r\n                                <div className=\"card\">\r\n                                    <div className=\"card-header\">\r\n                                        Login\r\n                                    </div>\r\n                                    <div className=\"card-body px-md-5\">\r\n                                        {result && result.success ? \r\n                                            <div className=\"col-12 text-center\">\r\n                                                <div className=\"alert alert-success\">{result.success}</div>\r\n                                            </div>\r\n                                        :\"\"}\r\n                                        \r\n                                        {result && result.fail ? \r\n                                            <div className=\"col-12 text-center\">\r\n                                                <div className=\"alert alert-danger\">{result.fail}</div>\r\n                                            </div>\r\n                                        :\"\"}\r\n                                        <label htmlFor=\"email\">Email:</label>\r\n                                        <div className=\"input-group mb-3\">\r\n                                            <input type=\"email\" name=\"email\" id=\"email\" className=\"form-control\" required onChange={handleInputChange}/>\r\n                                            <div className=\"input-group-append\">\r\n                                                <span className=\"input-group-text\">\r\n                                                    <i className=\"fas fa-at\"></i>\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <label htmlFor=\"password\">Password:</label>\r\n                                        <div className=\"input-group mb-4\">\r\n                                            <input type=\"password\" name=\"password\" id=\"password\" className=\"form-control\"  required onChange={handleInputChange}/>\r\n                                            <div className=\"input-group-append\">\r\n                                                <span className=\"input-group-text\">\r\n                                                    <i className=\"fas fa-key\"></i>\r\n                                                </span>\r\n                                            </div>\r\n                                        </div>\r\n                                        <button className=\"btn btn-primary w-100 mb-2\">Submit</button>\r\n                                        <p className=\"mb-0 text-center\">No account yet? Sign up <Link to=\"/register\">here</Link></p>\r\n                                    </div>\r\n                                </div>\r\n                            </form>\r\n                        }\r\n                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Login;","import React, {Fragment, useState} from 'react';\r\nimport {Link} from 'react-router-dom'\r\nimport {handleError} from './../../functions/functions'\r\n\r\nconst url = \"https://wrkst8ions-server.herokuapp.com\";\r\n\r\nconst Register = ({user, setUser}) => {\r\n\r\n    const [data, setData] = useState(\r\n        {\r\n            firstname: \"\",\r\n            lastname: \"\",\r\n            email: \"\",\r\n            password: \"\",\r\n            confirmPassword: \"\"\r\n        }\r\n    );\r\n\r\n    const handleInputChange = e => {\r\n        setData({\r\n            ...data,\r\n            [e.target.name] : e.target.value\r\n        })\r\n    }\r\n\r\n    const handleSubmit = e => {\r\n        e.preventDefault()\r\n\r\n        fetch(url + '/users', {\r\n            method: \"POST\",\r\n            body: JSON.stringify(data),\r\n            headers: {\r\n                \"Content-Type\" : \"application/json\"\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(res => {\r\n            handleError(res)\r\n            return res\r\n        })\r\n        .then(user => {\r\n            fetch(url + \"/users/login\", {\r\n                method: \"POST\",\r\n                body : JSON.stringify({\r\n                    email : data.email,\r\n                    password : data.password\r\n                }),\r\n                headers: {\r\n                    \"Content-Type\" : \"application/json\"\r\n                }\r\n            })\r\n            .then(data => data.json())\r\n            .then(res => {\r\n                handleError(res);\r\n                return res\r\n            })\r\n            .then(user => {\r\n                localStorage.setItem('user', JSON.stringify(user.user));\r\n                localStorage.setItem('token', 'Bearer ' + user.token);\r\n                setUser({\r\n                    user: JSON.parse(localStorage.getItem(\"user\")),\r\n                    token : localStorage.getItem(\"token\")\r\n                  })\r\n            })\r\n        })\r\n        \r\n    }\r\n    \r\n    return (\r\n        <Fragment>\r\n            <div className=\"container-fluid\">\r\n                <div className=\"row\">\r\n                    <div className=\"col-md-8 col-lg-4 register\">\r\n                        {user.token?\r\n                            <div className=\"card\">\r\n                                <div className=\"card-header\">\r\n                                    Registration successful\r\n                                </div>\r\n                                <div className=\"card-body px-md-5\">\r\n                                <h5 className=\"text-center\">Welcome, {user.user.firstname}</h5>\r\n                                </div>\r\n                            </div>\r\n                        :\r\n                            <form className=\"mb-0\" onSubmit={handleSubmit}>\r\n                                <div className=\"card\">\r\n                                    <div className=\"card-header\">\r\n                                        Register\r\n                                    </div>\r\n                                    <div className=\"card-body px-md-5\">\r\n                                        <div className=\"form-group\">\r\n                                            <label htmlFor=\"email\">First Name:</label>\r\n                                            <input type=\"text\" name=\"firstname\" id=\"firstname\" className=\"form-control\" required onChange={handleInputChange}/>\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <label htmlFor=\"email\">Last Name:</label>\r\n                                            <input type=\"text\" name=\"lastname\" id=\"lastname\" className=\"form-control\" required onChange={handleInputChange}/>\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <label htmlFor=\"email\">Email:</label>\r\n                                            <input type=\"email\" name=\"email\" id=\"email\" className=\"form-control\" required onChange={handleInputChange}/>\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <label htmlFor=\"password\">Password:</label>\r\n                                            <input type=\"password\" name=\"password\" id=\"password\" className=\"form-control\"  required onChange={handleInputChange}/>\r\n                                        </div>\r\n                                        <div className=\"form-group\">\r\n                                            <label htmlFor=\"password\">Confirm Password:</label>\r\n                                            <input type=\"password\" name=\"confirmPassword\" id=\"confirmPassword\" className=\"form-control\"  required onChange={handleInputChange}/>\r\n                                        </div>\r\n                                        <button className=\"btn btn-primary w-100 mt-3 mb-2\">Submit</button>\r\n                                        <p className=\"mb-0 text-center\">Already have an account? Sign in <Link to=\"/login\">here</Link></p>\r\n                                    </div>\r\n                                </div>\r\n                            </form>\r\n                        }\r\n                        \r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Register;","import React from 'react'\r\n\r\nconst url = \"https://wrkst8ions-server.herokuapp.com\";\r\n\r\nconst BookingDetails = ({selectedBooking, updateBookings}) => {\r\n    const booking = selectedBooking\r\n\r\n    const handleCancel = e => {\r\n        fetch(url + \"/bookings/\" + booking._id, {\r\n            method: \"PUT\",\r\n            body: JSON.stringify({\r\n                status : \"Cancelled\"\r\n            }),\r\n            headers: {\r\n                \"Authorization\" : localStorage.getItem('token'),\r\n                \"Content-Type\" : \"application/json\"\r\n            }\r\n        })\r\n        .then(res=> res.json())\r\n        .then(res=> {\r\n            console.log(res)\r\n            updateBookings()\r\n        })\r\n    }\r\n\r\n    return(\r\n        <div className=\"row\">\r\n            <div className=\"col-12 mb-4\">\r\n                <img src={booking.workstation.image} alt={booking.workstation.name} className=\"img-fluid\"/>\r\n            </div>\r\n            <div className=\"col-12 mb-2\">\r\n                <h5 className=\"text-primary\">\r\n                    {booking.workstation.name}\r\n                    <span className=\"badge bg-secondary ml-3 text-light\">{booking.status}</span>\r\n                </h5>\r\n                <p className=\"mb-0\">\r\n                    {booking.transactionCode}\r\n                </p>\r\n            </div>\r\n            <div className=\"col-12\">\r\n                <table className=\"table table-hover table-sm\">\r\n                    <tbody>\r\n                        <tr>\r\n                            <td><strong>Transaction Date: </strong></td>\r\n                            <td>{booking.createdAt}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td><strong>Start Date: </strong></td>\r\n                            <td>{booking.startDate}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td><strong>End Date: </strong></td>\r\n                            <td>{booking.endDate}</td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td></td>\r\n                            <td></td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n            <div className=\"col-12\">\r\n                {booking.status !== \"Pending\" ?\r\n                <button className=\"btn btn-medium px-md-5\" disabled onClick={handleCancel}>Cancel Transaction</button>\r\n                :\r\n                <button className=\"btn btn-primary px-md-5\" onClick={handleCancel}>Cancel Transaction</button>\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default BookingDetails;","import React, {useState, useEffect, Fragment} from 'react'\r\nimport BookingDetails from './../layouts/BookingDetails'\r\n\r\nconst url = \"https://wrkst8ions-server.herokuapp.com\";\r\n\r\nconst User = () => {\r\n\r\n    const [bookings, setBookings] = useState([])\r\n    const [selectedBooking, SetSelectedBooking] = useState(null)\r\n\r\n    const updateBookings = () => {\r\n        fetch(url + \"/bookings\", {\r\n            headers: {\r\n                \"Authorization\" : localStorage.getItem('token')\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(list=> {\r\n            fetch(url + \"/workstations\")\r\n            .then(res => res.json())\r\n            .then(workstations => {\r\n                let bookingResults = []\r\n                list.forEach(booking => {\r\n                    booking.workstation = workstations.find(workstation => workstation._id === booking.workstationId)\r\n                    bookingResults.push(booking)\r\n                })\r\n                setBookings(bookingResults)\r\n            })\r\n        })\r\n    }\r\n\r\n    useEffect(() => {\r\n        updateBookings()\r\n    },[])\r\n\r\n    const handleSelectBooking = e => {\r\n        SetSelectedBooking(bookings.find(booking => booking._id === e.target.value))\r\n    }\r\n\r\n    return (\r\n        <Fragment>\r\n            <div className=\"container user\">\r\n                <div className=\"row bg-primary\">\r\n                    <div className=\"col-12 p-3\">\r\n                        <h5 className=\"mb-0 text-light\">Your Bookings</h5>\r\n                    </div>\r\n                </div>\r\n                <div className=\"row bg-light\">\r\n                    <div className=\"col-md-4 col-lg-3 p-3 border-right\">\r\n                        <div className=\"row\">\r\n                            {/* BOOKINGS LIST */}\r\n                            {bookings.map(booking => {\r\n                                return (\r\n                                    <div className=\"col-12\" key={booking._id}>\r\n                                        <button className=\"btn btn-link\" value={booking._id} onClick={handleSelectBooking}>{booking.transactionCode} - {booking.status}</button>\r\n                                    </div>\r\n                                )\r\n                            })}\r\n                            {/* END OF BOOKINGS LIST */}\r\n                        </div>\r\n                    </div>\r\n                    <div className=\"col-md-8 col-lg-9 p-3\">\r\n                        {selectedBooking ? <BookingDetails selectedBooking={selectedBooking} updateBookings={updateBookings}/> : <h5 className=\"text-center mt-md-5\">Please select a booking</h5> }\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default User;","import React, { Fragment } from 'react'\r\n\r\n\r\nconst Error = () => {\r\n    return (\r\n        <Fragment>\r\n            <h1 className=\"text-light center\">Oops! Something went wrong.</h1>\r\n        </Fragment>\r\n    )\r\n}\r\n\r\nexport default Error;","import React, { Fragment } from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nconst Navbar = ({user, setUser}) => {\r\n\r\n    const handleLogout = () => {\r\n        localStorage.clear();\r\n        setUser({\r\n            user: null,\r\n            tokern: null\r\n        })\r\n        window.location.replace(\"/\")\r\n    }\r\n\r\n    return (\r\n        <div className=\"navbar-container px-3\">\r\n            <div className=\"container px-0\">\r\n                <nav className=\"navbar navbar-expand-lg navbar-dark px-0\">\r\n                    <Link to=\"/\" className=\"navbar-brand\">WRKST8IONS</Link>\r\n                    <button className=\"navbar-toggler\" type=\"button\" data-toggle=\"collapse\" data-target=\"#topNav\">\r\n                        <span className=\"navbar-toggler-icon\"></span>\r\n                    </button>\r\n                    <div className=\"collapse navbar-collapse\" id=\"topNav\">\r\n                        <ul className=\"navbar-nav mr-auto\">\r\n\r\n                            {!user.user || user.user.role !== \"admin\" ?\r\n                                <li className=\"nav-item\">\r\n                                    <Link to=\"/workstations\" className=\"nav-link\">Book a Workstation</Link>\r\n                                </li>\r\n                            :\"\"}\r\n\r\n                            {localStorage.getItem('user') && JSON.parse(localStorage.getItem('user')).role === \"admin\" ?\r\n                                <li className=\"nav-item\">\r\n                                    <Link to=\"/admin\" className=\"nav-link\">Admin Panel</Link>\r\n                                </li>\r\n                            : \"\"}\r\n                        </ul>\r\n                        <ul className=\"navbar-nav ml-auto\">\r\n                            {!localStorage.getItem('user') ?\r\n                                <Fragment>\r\n                                    <li className=\"nav-item\">\r\n                                        <Link to=\"/login\" className=\"nav-link\">Login</Link>\r\n                                    </li>\r\n                                    <li className=\"nav-item\">\r\n                                        <Link to=\"/register\" className=\"nav-link\">Register</Link>\r\n                                    </li>\r\n                                </Fragment>\r\n                            \r\n                            :\r\n                                <Fragment>\r\n                                    <li className=\"nav-item\">\r\n                                        <a href=\"/user\" className=\"nav-link\">{JSON.parse(localStorage.getItem('user')).firstname}</a>\r\n                                    </li>\r\n                                    <li className=\"nav-item\">\r\n                                        <a href=\"/\" className=\"nav-link\" onClick={handleLogout}>Logout</a>\r\n                                    </li>\r\n                                </Fragment>\r\n                            }\r\n    \r\n                        </ul>\r\n                    </div>\r\n                </nav>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Navbar;","import React from 'react';\r\n\r\nconst Footer = () => {\r\n\treturn (\r\n\t\t<div className=\"container-fluid bg-dark py-3 py-md-4 footer\">\r\n\t\t\t<div className=\"container\">\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t<small className=\"mb-0 text-light\">Workst8ions &copy; 2020 Copyright: Hector Robles</small>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default Footer;","import React, {useState, useEffect} from 'react';\r\nimport {BrowserRouter as Router, Route, Switch} from 'react-router-dom';\r\n\r\nimport Home from './components/pages/Home';\r\nimport Workstations from './components/pages/Workstations';\r\nimport AdminPanel from './components/pages/AdminPanel';\r\nimport Login from './components/pages/Login';\r\nimport Register from './components/pages/Register';\r\nimport User from './components/pages/User';\r\nimport Errors from './components/pages/Error';\r\nimport Navbar from './components/layouts/Navbar'\r\nimport Footer from './components/layouts/Footer'\r\n\r\n\r\nfunction App() {\r\n\r\n  const [user, setUser] = useState(\r\n    {\r\n      user : {\r\n        firstname: null,\r\n        lastname: null,\r\n        role: null,\r\n        id: null,\r\n      },\r\n      token : null\r\n    }\r\n  )\r\n\r\n  const [role, setRole] = useState(\"\")\r\n\r\n\r\n  useEffect(() => {\r\n    if(localStorage.getItem(\"token\")) {\r\n      setUser({\r\n        user: JSON.parse(localStorage.getItem(\"user\")),\r\n        token : localStorage.getItem(\"token\")\r\n      })\r\n    }\r\n  },[])\r\n\r\n  useEffect(() => {\r\n    setRole(user.user.role)\r\n  },[user])\r\n  \r\n  // let localUser = JSON.parse(localStorage.getItem(\"user\"))\r\n  // console.log(JSON.parse(localStorage.getItem(\"user\")).role)\r\n\r\n  return (\r\n    <Router>\r\n        <Navbar user={user} setUser={setUser}/>\r\n        <Switch>\r\n          <Route exact path=\"/\">\r\n            <Home />\r\n          </Route>\r\n          <Route exact path=\"/workstations\">\r\n            {!JSON.parse(localStorage.getItem(\"user\")) || JSON.parse(localStorage.getItem(\"user\")).role !== \"admin\" ? <Workstations/> : <Errors /> }\r\n          </Route>\r\n          <Route exact path=\"/admin\">\r\n            {JSON.parse(localStorage.getItem(\"user\")) && JSON.parse(localStorage.getItem(\"user\")).role === \"admin\" ? <AdminPanel/> : <Errors /> }\r\n          </Route>\r\n          <Route exact path=\"/login\">\r\n            <Login user={user} setUser={setUser} />\r\n          </Route>\r\n          <Route exact path=\"/register\">\r\n            <Register user={user} setUser={setUser} />\r\n          </Route>\r\n          <Route exact path=\"/user\">\r\n            {localStorage.getItem('user') && JSON.parse(localStorage.getItem(\"user\")).role !== \"admin\" ? <User user={user} setUser={setUser} /> : <Errors /> }\r\n          </Route>\r\n          <Route path=\"/err\">\r\n            <Errors />\r\n          </Route>\r\n        </Switch>\r\n        <Footer />\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}
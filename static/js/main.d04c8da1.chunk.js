(this["webpackJsonpwrkst8ions-client"]=this["webpackJsonpwrkst8ions-client"]||[]).push([[0],{27:function(e,a,t){e.exports=t(41)},3:function(e,a){e.exports={handleError:function(e){(e.message||"Unauthorized"===e)&&window.location.replace("/err")}}},41:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),r=t(24),c=t.n(r),o=t(1),s=t(6),m=t(11),i=t(5),d=t(2),u=t(9),E=t(18),p=t.n(E),g=t(3),b=t(12),f=t.n(b),N="https://wrkst8ions-server.herokuapp.com",h=function(e){var a=e.limit,t={user:JSON.parse(localStorage.getItem("user")),token:localStorage.getItem("token")},r=Object(n.useState)({startDate:null,endDate:null,workstationId:null,userId:null}),c=Object(o.a)(r,2),m=c[0],E=c[1],b=Object(n.useState)(null),h=Object(o.a)(b,2),v=h[0],k=h[1],w=Object(n.useState)([]),y=Object(o.a)(w,2),O=y[0],x=y[1],j=Object(n.useState)([]),S=Object(o.a)(j,2),C=S[0],D=S[1],F=Object(n.useState)(!1),I=Object(o.a)(F,2),T=I[0],W=I[1],_=Object(n.useState)(null),L=Object(o.a)(_,2),P=L[0],A=L[1],Y=Object(n.useState)(null),M=Object(o.a)(Y,2),U=M[0],J=M[1];Object(n.useEffect)((function(){W(!0);var e=new Date;e.setDate(e.getDate()+1),E(Object(d.a)(Object(d.a)({},m),{},{startDate:new Date,endDate:e})),fetch(N+"/workstations/available",{method:"POST",body:JSON.stringify(m),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return Object(g.handleError)(e),e})).then((function(e){if(x(Object(u.a)(e)),a){for(var t=[],n=0;n<a&&n<e.length;)t.push(e[n]),n++;D([].concat(t))}else D(Object(u.a)(e));W(!1)}))}),[]),Object(n.useEffect)((function(){m.startDate&&m.endDate&&(W(!0),function(){x([]);var e={startDate:m.startDate,endDate:m.endDate};fetch(N+"/workstations/available",{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return Object(g.handleError)(e),e})).then((function(e){if(x(Object(u.a)(e)),a){for(var t=[],n=0;n<=a&&n<e.length;)t.push(e[n]),n++;D([].concat(t))}else D(Object(u.a)(e));W(!1)})).catch((function(e){console.log(alert)}))}())}),[m.startDate,m.endDate]);var B=function(e){E(Object(d.a)(Object(d.a)({},m),{},Object(i.a)({workstationId:null},e.target.name,e.target.value)))},q=function(e){m.workstationId&&P&&document.getElementById(P._id).classList.remove("selected"),A(O.find((function(a){return a._id===e.target.value}))),E(Object(d.a)(Object(d.a)({},m),{},{workstationId:e.target.value})),console.log(P),document.getElementById(e.target.value).classList.add("selected")};return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"booking-form--container position-sticky"},l.a.createElement("div",{className:"bg-dark"},l.a.createElement("div",{className:"container"},l.a.createElement("form",{className:"row booking-form",onSubmit:function(e){e.preventDefault(),J({}),console.log(t.token),fetch(N+"/bookings",{method:"POST",body:JSON.stringify(m),headers:{"Content-Type":"application/json",Authorization:t.token}}).then((function(e){return e.json()})).then((function(e){if(Object(g.handleError)(e),!e.fail)return k(e),A(null),e})).then((function(e){console.log(e)}))}},l.a.createElement("div",{className:"col-md-6 d-none d-md-block"},l.a.createElement("div",{className:"form-inline d-flex my-3"},l.a.createElement("div",{className:"flex-fill text-light"},l.a.createElement("label",{htmlFor:"startDate"},"Start:")),l.a.createElement("div",{className:"flex-fill ml-1"},l.a.createElement("input",{type:"date",name:"startDate",className:"form-control w-100",value:m.startDate?m.startDate:"",onChange:B})),l.a.createElement("div",{className:"flex-fill text-light ml-1"},l.a.createElement("label",{htmlFor:"endDate"},"End:")),l.a.createElement("div",{className:"flex-fill ml-1"},l.a.createElement("input",{type:"date",name:"endDate",className:"form-control w-100",value:m.endDate?m.endDate:"",onChange:B})))),l.a.createElement("div",{className:"col-12 form-group text-light my-3 d-md-none"},l.a.createElement("label",{htmlFor:"startDate",className:"mb-1"},"Booking Date:"),l.a.createElement("input",{type:"date",name:"startDate",className:"form-control mb-1",placeholder:"Start Date",onChange:B}),l.a.createElement("label",{htmlFor:"startDate",className:"mb-1"},"Booking Date:"),l.a.createElement("input",{type:"date",name:"endDate",className:"form-control",placeholder:"End Date",onChange:B})),l.a.createElement("div",{className:"col-md-3 bg-secondary text-center text-light d-none d-md-block"},l.a.createElement("span",{className:"center w-100"},P?P.name:"Select a Workstation")),l.a.createElement("div",{className:"col-12 d-md-none text-center text-light bg-secondary py-3"},"Selected Workstation"),l.a.createElement("button",{className:"btn col-md-3 bg-primary text-light py-3",type:"submit"},"BOOK WORKST8ION")))),l.a.createElement("div",{className:"row"},U&&U.success?l.a.createElement("div",{className:"col-12 text-center"},l.a.createElement("div",{className:"alert alert-success rounded-0"},U.success)):"",U&&U.fail?l.a.createElement("div",{className:"col-12 text-center"},l.a.createElement("div",{className:"alert alert-danger rounded-0"},U.fail)):"")),v?l.a.createElement("div",{className:"row bg-light"},l.a.createElement("div",{className:"col-12 bg-medium text-light p-3 px-md-5"},l.a.createElement("h5",{className:"mb-0"},"Booking Details:")),l.a.createElement("div",{className:"col-md-8 mx-auto px-md-5"},l.a.createElement("table",{className:"table table-hover"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null,"Start Date:")),l.a.createElement("td",null,l.a.createElement(f.a,{format:"MMM D, YYYY"},v.booking.startDate))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null,"End Date:")),l.a.createElement("td",null,l.a.createElement(f.a,{format:"MMM D, YYYY"},v.booking.endDate))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null,"Workstation:")),l.a.createElement("td",null,v.workstation.name)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null,"Total:")),l.a.createElement("td",null,v.booking.total))))),l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{className:"btn btn-primary w-100",onClick:function(e){e.preventDefault(),fetch(N+"/bookings/stripe",{method:"POST",body:JSON.stringify({total:v.booking.total}),headers:{Authorization:t.token,"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){J({success:"Hooray! You've successfully booked a workstation!"}),console.log(e),window.open(e.receipt_url),k(null)})).catch((function(e){J({fail:e.fail})}))}},"Pay Now"))):"",v?"":l.a.createElement("div",{className:a?"container-fluid px-0 workstation__list":"container-fluid px-0"},l.a.createElement("div",{className:"row w-100 m-0"},T?l.a.createElement("div",{className:"text-light text-center center"},l.a.createElement("h5",null,"Loading Workstations...")):C.map((function(e,a){return l.a.createElement(p.a,{bottom:!0,distance:"50px",delay:200*a,key:a},l.a.createElement("div",{key:e._id,className:"workstation workstation__tile",id:e._id},l.a.createElement("img",{src:e.image,alt:e.name,className:"workstation__img"}),l.a.createElement("div",{className:"container text-light workstation__details"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("h5",{className:"border-bottom border-light pb-2 font-weight-light"},e.name)),l.a.createElement("div",{className:"col-12 mb-3"},l.a.createElement("span",{className:"font-weight-bold"}," \u20b1 ",e.price," "),l.a.createElement("span",{className:"font-weight-light float-right"},e.area," sqm.")),l.a.createElement("div",{className:"col-12 mb-4"},l.a.createElement("p",{className:"text-light"},e.description)),"admin"!=t.role?l.a.createElement("div",{className:"col-12"},l.a.createElement("button",{className:"btn btn-outline-light float-right",onClick:q,value:e._id},"Choose Workstation")):""))))})),a?l.a.createElement(p.a,{bottom:!0,distance:"50px",delay:200*C.length},l.a.createElement(s.b,{to:"/workstations"},l.a.createElement("div",{className:"workstations__blank workstation__tile"+(C.length%3===0?" lg":"")+(C.length%3===1?" md":"")},l.a.createElement("div",{className:"workstations__more"},l.a.createElement("h1",{className:"text-light workstation__icon"},l.a.createElement("i",{className:"fas fa-building"})),l.a.createElement("p",{className:"mb-0 lead text-light"},"Click here to see more workstations"))))):"")))},v=function(){return window.scrollTo(0,0),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row hero"},l.a.createElement("div",{className:"container hero-container"},l.a.createElement("div",{className:"hero--copy col-10 mx-auto"},l.a.createElement("h1",{className:"text-light mb-0"},"The best office booking site in town"),l.a.createElement("p",{className:"lead text-light mb-0"},"Good workplaces results in better productivity. Get one of the best offices in the country. Impress your clients.")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 p-0"},l.a.createElement(h,{limit:5}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-6 about__image"}),l.a.createElement("div",{className:"col-md-6 bg-secondary text-light about"},l.a.createElement("div",{className:"about__details"},l.a.createElement("h5",null,"About Us"),l.a.createElement("p",{className:"mb-0"},"Works8ions is the leading workspace space rental in the Philippines. Feel free to work in your ideal workstation and move your business forward. Have access to shared workspaces, conference rooms, amenities and many more. Rent and Share office spaces at Works8ions. Schedule a tour to view the office spaces we offer.")))))},k=function(){return window.scrollTo(0,0),l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row workstations__hero"},l.a.createElement("div",{className:"container hero-container"},l.a.createElement("div",{className:"hero--copy col-10 mx-auto"},l.a.createElement("h1",{className:"text-light mb-0"},"The best office booking site in town"),l.a.createElement("p",{className:"lead text-light mb-0"},"Good workplaces results in better productivity. Get one of the best offices in the country. Impress your clients.")))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 p-0"},l.a.createElement(h,null))))},w=function(e){var a=e.getWorkstations,t=(e.setWorkstations,Object(n.useState)({name:"",category:"",price:"",area:"",description:"",location:"",image:null})),r=Object(o.a)(t,2),c=r[0],s=r[1],m=Object(n.useState)(null),u=Object(o.a)(m,2),E=u[0],p=u[1],b=Object(n.useState)(null),f=Object(o.a)(b,2),N=f[0],h=f[1],v=function(e){s(Object(d.a)(Object(d.a)({},c),{},Object(i.a)({},e.target.name,e.target.value)))};return l.a.createElement("div",{className:"row pb-3"},E&&E.success?l.a.createElement("div",{className:"col-12 text-center mb-3"},l.a.createElement("div",{className:"alert alert-success"},E.success)):"",E&&E.fail?l.a.createElement("div",{className:"col-12 text-center mb-3"},l.a.createElement("div",{className:"alert alert-danger"},E.fail)):"",l.a.createElement("div",{className:"col-md-6"},N?l.a.createElement("img",{src:N,alt:"",className:"img-fluid w-100 pl-md-3"}):l.a.createElement("div",{className:"h-100 bg-medium ml-md-3"},l.a.createElement("i",{className:"far fa-image text-light icon--xl center"}))),l.a.createElement("div",{className:"col-md-6"},l.a.createElement("form",{className:"w-100 row mx-0",encType:"multipart/form-data",onSubmit:function(e){if(p(null),e.preventDefault(),c.image.size>1e6)p({fail:"Image must be less than 1mb"});else{var t=new FormData;t.append("name",c.name),t.append("category",c.category),t.append("price",c.price),t.append("description",c.description),t.append("area",c.area),t.append("location",c.location),t.append("image",c.image),fetch("https://wrkst8ions-server.herokuapp.com/workstations",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(e){return Object(g.handleError)(e),e})).then((function(e){e.fail?p({fail:e.fail}):p({success:"Workstation successfully created"}),a()})).catch((function(e){console(e.message)}))}}},l.a.createElement("div",{className:"col-12 px-0 px-md-3 form-group"},l.a.createElement("label",{htmlFor:"name"},"Name:"),l.a.createElement("input",{type:"text",name:"name",onChange:v,value:c.name,required:!0,className:"form-control w-100"})),l.a.createElement("div",{className:"col-md-6 px-0 px-md-3 form-group"},l.a.createElement("label",{htmlFor:"category"},"Category:"),l.a.createElement("select",{name:"category",onChange:v,defaultValue:"select",required:!0,className:"form-control"},l.a.createElement("option",{value:"select",disabled:!0},"Select Category"),l.a.createElement("option",{value:"desk"},"Desk"),l.a.createElement("option",{value:"office"},"Office"),l.a.createElement("option",{value:"meeting room"},"Meeting Room"),l.a.createElement("option",{value:"unit"},"Unit"),l.a.createElement("option",{value:"special"},"Special"))),l.a.createElement("div",{className:"col-md-6 px-0 px-md-3 form-group"},l.a.createElement("label",{htmlFor:"price"},"Price:"),l.a.createElement("input",{type:"number",min:"1",name:"price",onChange:v,value:c.price,required:!0,className:"form-control"})),l.a.createElement("div",{className:"col-md-6 px-0 px-md-3 form-group"},l.a.createElement("label",{htmlFor:"area"},"Area:"),l.a.createElement("input",{type:"number",min:"1",name:"area",onChange:v,value:c.area,required:!0,className:"form-control"})),l.a.createElement("div",{className:"col-md-6 px-0 px-md-3 form-group"},l.a.createElement("label",{htmlFor:"location"},"Location:"),l.a.createElement("input",{type:"text",name:"location",onChange:v,value:c.location,required:!0,className:"form-control"})),l.a.createElement("div",{className:"col-12 px-0 px-md-3 form-group"},l.a.createElement("label",{htmlFor:"location"},"Description:"),l.a.createElement("textarea",{name:"description",rows:"5",required:!0,className:"form-control",onChange:v,value:c.description})),l.a.createElement("div",{className:"col-12 px-0 px-md-3 form-group"},l.a.createElement("label",{htmlFor:"image"},"Image:"),l.a.createElement("div",{className:"input-group"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},"Upload")),l.a.createElement("div",{className:"custom-file"},l.a.createElement("input",{type:"file",className:"custom-file-input",name:"file",accept:"image/*",required:!0,onChange:function(e){if(p(null),e.targget.files&&e.target.files[0].size>1e6)p({fail:"Image must be less than 1mb"});else{s(Object(d.a)(Object(d.a)({},c),{},{image:e.target.files[0]}));var a=new FileReader;a.onload=function(e){h(e.target.result)},a.readAsDataURL(e.target.files[0])}}}),l.a.createElement("label",{className:"custom-file-label",htmlFor:"file"},c.image?c.image.name:"Choose an image")))),l.a.createElement("div",{className:"col-xl-6 mt-4 px-0 px-md-3"},l.a.createElement("button",{className:"btn btn-primary w-100"},"SUBMIT WORKSTATION")))))},y=function(e){var a=e.workstations,t=e.getWorkstations,r=(e.setWorkstations,"https://wrkst8ions-server.herokuapp.com"),c=Object(n.useState)(null),s=Object(o.a)(c,2),m=s[0],u=s[1],E=Object(n.useState)({name:"",category:"",price:"",area:"",description:"",location:"",image:null}),p=Object(o.a)(E,2),b=p[0],f=p[1],N=Object(n.useState)(null),h=Object(o.a)(N,2),v=h[0],k=h[1],w=Object(n.useState)(null),y=Object(o.a)(w,2),O=y[0],x=y[1],j=function(e){f(Object(d.a)(Object(d.a)({},b),{},Object(i.a)({},e.target.name,e.target.value)))},S=function(e){e.preventDefault();var a=new FormData;a.append("name",b.name),a.append("category",b.category),a.append("price",b.price),a.append("description",b.description),a.append("area",b.area),a.append("location",b.location),a.append("image",b.image),fetch(r+"/workstations/"+b._id,{method:"PUT",body:a}).then((function(e){return e.json()})).then((function(e){return Object(g.handleError)(e),e.fail?"DuplicateKey"===e.fail.codeName&&k({fail:"Workstation with that name already exists"}):k({success:"Workstation updated successfully"}),e})).then((function(e){t()})).catch((function(e){console(e.message)}))};return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"row border-bottom mb-3"},l.a.createElement("div",{className:"col-md-6 mx-auto pb-3"},l.a.createElement("select",{name:"workstation",id:"workstation",className:"form-control w-100",value:m?m._id:"select",onChange:function(e){fetch(r+"/workstations/"+e.target.value).then((function(e){return e.json()})).then((function(e){return Object(g.handleError)(e),e})).then((function(e){u(e),f(Object(d.a)({},e))})).catch((function(e){console(e.message)}))}},l.a.createElement("option",{value:"select",disabled:!0},"Select a Workstation"),a.map((function(e,a){return l.a.createElement("option",{value:e._id,key:a},e.name)}))))),l.a.createElement("div",{className:"row pb-3"},v&&v.success?l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"col-12 text-center"},l.a.createElement("div",{className:"alert alert-success"},v.success))):"",v&&v.fail?l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"col-12 text-center"},l.a.createElement("div",{className:"alert alert-danger"},v.fail))):"",m?l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"col-md-6"},l.a.createElement("img",{src:O||m.image,alt:"",className:"img-fluid w-100 pl-md-3"})),l.a.createElement("div",{className:"col-md-6 mt-3 mt-md-0"},l.a.createElement("form",{className:"w-100 row mx-0",encType:"multipart/form-data",onSubmit:S},l.a.createElement("div",{className:"col-12 px-0 px-md-3 form-group"},l.a.createElement("label",{htmlFor:"name"},"Name:"),l.a.createElement("input",{type:"text",name:"name",onChange:j,value:b.name,className:"form-control w-100"})),l.a.createElement("div",{className:"col-md-6 px-0 px-md-3 form-group"},l.a.createElement("label",{htmlFor:"category"},"Category:"),l.a.createElement("select",{name:"category",onChange:j,value:b.category,required:!0,className:"form-control"},l.a.createElement("option",{value:"desk"},"Desk"),l.a.createElement("option",{value:"office"},"Office"),l.a.createElement("option",{value:"meeting room"},"Meeting Room"),l.a.createElement("option",{value:"unit"},"Unit"),l.a.createElement("option",{value:"special"},"Special"))),l.a.createElement("div",{className:"col-md-6 px-0 px-md-3 form-group"},l.a.createElement("label",{htmlFor:"price"},"Price:"),l.a.createElement("input",{type:"number",min:"1",name:"price",onChange:j,value:b.price,className:"form-control"})),l.a.createElement("div",{className:"col-md-6 px-0 px-md-3 form-group"},l.a.createElement("label",{htmlFor:"area"},"Area:"),l.a.createElement("input",{type:"number",min:"1",name:"area",onChange:j,value:b.area,className:"form-control"})),l.a.createElement("div",{className:"col-md-6 px-0 px-md-3 form-group"},l.a.createElement("label",{htmlFor:"location"},"Location:"),l.a.createElement("input",{type:"text",name:"location",onChange:j,value:b.location,className:"form-control"})),l.a.createElement("div",{className:"col-12 px-0 px-md-3 form-group"},l.a.createElement("label",{htmlFor:"location"},"Description:"),l.a.createElement("textarea",{name:"description",rows:"5",className:"form-control",onChange:j,value:b.description})),l.a.createElement("div",{className:"col-12 px-0 px-md-3 form-group"},l.a.createElement("label",{htmlFor:"image"},"Image:"),l.a.createElement("div",{className:"input-group"},l.a.createElement("div",{className:"input-group-prepend"},l.a.createElement("span",{className:"input-group-text"},"Upload")),l.a.createElement("div",{className:"custom-file"},l.a.createElement("input",{type:"file",className:"custom-file-input",name:"file",onChange:function(e){console.log(e.target.files[0]),f(Object(d.a)(Object(d.a)({},b),{},{image:e.target.files[0]}));var a=new FileReader;a.onloadend=function(e){x(a.result)},console.log(b)}}),l.a.createElement("label",{className:"custom-file-label",htmlFor:"file"},b.image?b.image.name:"Choose an image")))),l.a.createElement("div",{className:"col-lg-6 mt-2 px-0 px-md-3"},l.a.createElement("button",{className:"btn btn-secondary px-lg-5 w-100",type:"button","data-toggle":"modal","data-target":"#editModal"},"UPDATE")),l.a.createElement("div",{className:"col-lg-6 mt-2 px-0 px-md-3"},l.a.createElement("button",{className:"btn btn-primary px-lg-5 w-100",type:"button","data-toggle":"modal","data-target":"#deleteModal"},"DELETE")))),l.a.createElement("div",{className:"modal fade",id:"editModal",tabIndex:"-1",role:"dialog"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"editModalTitle"},"Update Workstation")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("p",{className:"text-center mb-0"},"Are you sure you want to Update this workstation?")),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{className:"btn btn-primary","data-dismiss":"modal",onClick:S},"Yes"),l.a.createElement("button",{className:"btn btn-medium","data-dismiss":"modal"},"Cancel"))))),l.a.createElement("div",{className:"modal fade",id:"deleteModal",tabIndex:"-1",role:"dialog"},l.a.createElement("div",{className:"modal-dialog",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"deleteModalTitle"},"Delete Workstation")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("p",{className:"text-center mb-0"},"Are you sure you want to delete this workstation?")),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{className:"btn btn-primary","data-dismiss":"modal",onClick:function(){fetch(r+"/workstations/"+m._id,{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){return Object(g.handleError)(e),e})).then((function(e){console.log(e),u(null),t()})).catch((function(e){console(e.message)}))}},"Yes"),l.a.createElement("button",{className:"btn btn-medium","data-dismiss":"modal"},"Cancel")))))):l.a.createElement("div",{className:"col-12 text-center pt-5"},l.a.createElement("p",null,"Please select a workstation"))))},O="https://wrkst8ions-server.herokuapp.com",x=function(e){e.workstations;var a={user:JSON.parse(localStorage.getItem("user")),token:localStorage.getItem("token")},t=Object(n.useState)({status:null}),r=Object(o.a)(t,2),c=r[0],s=r[1],m=Object(n.useState)(null),E=Object(o.a)(m,2),p=E[0],b=E[1],N=Object(n.useState)([]),h=Object(o.a)(N,2),v=h[0],k=h[1],w=Object(n.useState)([]),y=Object(o.a)(w,2),x=y[0],j=y[1],S=Object(n.useState)({status:"",name:"",transactionCode:"",workstation:""}),C=Object(o.a)(S,2),D=C[0],F=C[1],I=function(){fetch(O+"/bookings",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){return Object(g.handleError)(e),e})).then((function(e){fetch(O+"/users",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){return Object(g.handleError)(e),e})).then((function(t){"admin"===a.user.role?e.forEach((function(e){var a=t.find((function(a){return a._id===e.userId}));void 0!==a&&(e.user=a)})):e.forEach((function(e){e.user=a.user})),fetch(O+"/workstations").then((function(e){return e.json()})).then((function(e){return Object(g.handleError)(e),e})).then((function(a){e.forEach((function(e){e.workstation=a.find((function(a){return a._id===e.workstationId}))})),k(Object(u.a)(e)),j(Object(u.a)(e))}))}))}))},T=function(e){s({status:e.target.value})},W=function(){s({status:null}),b(null)},_=function(e){fetch(O+"/bookings/"+p,{method:"PUT",body:JSON.stringify(c),headers:{"Content-Type":"application/json",Authorization:a.token}}).then((function(e){return e.json()})).then((function(e){return Object(g.handleError)(e),e})).then((function(e){return I()}))},L=function(e){b(e.target.value)};Object(n.useEffect)((function(){I()}),[]);var P=function(e){F(Object(d.a)(Object(d.a)({},D),{},Object(i.a)({},e.target.name,e.target.value)))};return Object(n.useEffect)((function(){j(v.filter((function(e){return D.date?(e.user.firstname.toLowerCase().match(D.name.toLowerCase())||e.user.lastname.toLowerCase().match(D.name.toLowerCase()))&&e.workstation.name.toLowerCase().match(D.workstation.toLowerCase())&&e.transactionCode.toLowerCase().match(D.transactionCode.toLowerCase())&&e.status.toLowerCase().match(D.status.toLocaleLowerCase())&&new Date(e.createdAt).toDateString().match(new Date(D.date).toDateString()):(e.user.firstname.toLowerCase().match(D.name.toLowerCase())||e.user.lastname.toLowerCase().match(D.name.toLowerCase()))&&e.workstation.name.toLowerCase().match(D.workstation.toLowerCase())&&e.transactionCode.toLowerCase().match(D.transactionCode.toLowerCase())&&e.status.toLowerCase().match(D.status.toLocaleLowerCase())})))}),[D,v]),l.a.createElement("div",{className:"col-12"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-lg-4 p-0",id:"bookingsAccordion"},l.a.createElement("div",{className:"accordion"},l.a.createElement("div",{className:"card bookingsFilter"},l.a.createElement("div",{className:"card-header py-0"},l.a.createElement("h5",{className:"mb-0"},l.a.createElement("button",{className:"btn btn-link pl-0",type:"button","data-toggle":"collapse","data-target":"#filterStatus"},"Status"))),l.a.createElement("div",{className:"collapse show",id:"filterStatus","data-parent":"#bookingsAccordion"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"d-flex"},l.a.createElement("div",{className:"form-group flex-fill mb-0"},l.a.createElement("input",{className:"mr-2",type:"radio",name:"status",onChange:P,value:"",defaultChecked:!0}),l.a.createElement("label",{className:"mb-0",htmlFor:"all"},"All")),l.a.createElement("div",{className:"form-group flex-fill mb-0"},l.a.createElement("input",{className:"mr-2",type:"radio",name:"status",onChange:P,value:"Pending"}),l.a.createElement("label",{className:"mb-0",htmlFor:"pending"},"Pending")),l.a.createElement("div",{className:"form-group flex-fill mb-0"},l.a.createElement("input",{className:"mr-2",type:"radio",name:"status",onChange:P,value:"Approved"}),l.a.createElement("label",{className:"mb-0",htmlFor:"approved"},"Approved")),l.a.createElement("div",{className:"form-group flex-fill mb-0"},l.a.createElement("input",{className:"mr-2",type:"radio",name:"status",onChange:P,value:"Cancelled"}),l.a.createElement("label",{className:"mb-0",htmlFor:"cancelled"},"Cancelled")))))),l.a.createElement("div",{className:"card bookingsFilter"},l.a.createElement("div",{className:"card-header py-0"},l.a.createElement("h5",{className:"mb-0"},l.a.createElement("button",{className:"btn btn-link pl-0",type:"button","data-toggle":"collapse","data-target":"#filterSearch"},"Search"))),l.a.createElement("div",{className:"collapse",id:"filterSearch","data-parent":"#bookingsAccordion"},l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"name"},"User Name:"),l.a.createElement("input",{type:"text",name:"name",className:"form-control",id:"filterUser",onChange:P,placeholder:"Name"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"workstation"},"Workstation Name:"),l.a.createElement("input",{type:"text",name:"workstation",className:"form-control",id:"filterWorkstation",onChange:P,placeholder:"Workstation"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"transactionCode"},"Transaction Code:"),l.a.createElement("input",{type:"text",name:"transactionCode",className:"form-control",id:"filterTransactionCode",onChange:P,placeholder:"Transaction Code"})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"date"},"Transaction Date:"),l.a.createElement("input",{type:"date",name:"date",className:"form-control",id:"filterDate",onChange:P,placeholder:"Transaction Date"}))))))),l.a.createElement("div",{className:"col-lg-8"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 py-3"},l.a.createElement("h5",null,"Results")),l.a.createElement("div",{className:"col-12 pb-3"},l.a.createElement("div",{className:"row"},x.map((function(e,t){return l.a.createElement(n.Fragment,{key:t},l.a.createElement("div",{className:"col-md-6 p-1"},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},l.a.createElement("span",null,e.transactionCode),l.a.createElement("span",{className:"badge bg-secondary ml-2 text-light"},e.status)),l.a.createElement("div",{className:"card-body"},l.a.createElement("div",{className:"col-12 px-0"},l.a.createElement("strong",null,"Workstation:")," ",e.workstation.name),l.a.createElement("div",{className:"col-12 px-0"},l.a.createElement("strong",null,"User:")," ","".concat(e.user.firstname," ").concat(e.user.lastname)),l.a.createElement("div",{className:"col-12 px-0"},l.a.createElement("strong",{className:"mr-1"},"Date:"),l.a.createElement(f.a,{format:"MMM D, YYYY"},e.createdAt))),l.a.createElement("div",{className:"card-footer p-0"},l.a.createElement("button",{className:"btn btn-primary btn-sm w-100","data-toggle":"modal","data-target":"#modal".concat(t),value:e._id,onClick:L},"View")))),l.a.createElement("div",{className:"modal fade",id:"modal".concat(t),tabIndex:"-1",role:"dialog"},l.a.createElement("div",{className:"modal-dialog modal-lg",role:"document"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h5",{className:"modal-title",id:"".concat(t,"-modalTitle")},"Transaction: ",e.transactionCode,l.a.createElement("span",{className:"px-3 mx-3 border-left"},l.a.createElement(f.a,{format:"MMM D, YYYY"},e.createdAt)),l.a.createElement("span",{className:"badge bg-secondary text-light"},e.status))),l.a.createElement("div",{className:"modal-body"},l.a.createElement("table",{className:"table table-hover"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null,"User:")),l.a.createElement("td",null,"".concat(e.user.firstname," ").concat(e.user.lastname))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null,"Start Date:")),l.a.createElement("td",null,l.a.createElement(f.a,{format:"MMM D, YYYY"},e.startDate))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null,"End Date:")),l.a.createElement("td",null,l.a.createElement(f.a,{format:"MMM D, YYYY"},e.endDate))),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null,"Workstation:")),l.a.createElement("td",null,e.workstation.name)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null,"Total:")),l.a.createElement("td",null,"\u20b1 ",e.total)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null,"Change Status:")),l.a.createElement("td",null,l.a.createElement("div",{className:"form-group mb-0"},l.a.createElement("select",{name:"status",id:"status",className:"form-control",defaultValue:e.status,onChange:T},"admin"===a.user.role?l.a.createElement(n.Fragment,null,l.a.createElement("option",{value:"Pending"},"Pending"),l.a.createElement("option",{value:"Approved"},"Approved")):"",l.a.createElement("option",{value:"Cancelled"},"Cancelled")))))))),l.a.createElement("div",{className:"modal-footer"},l.a.createElement("button",{className:"btn btn-primary","data-dismiss":"modal",onClick:_},"Update"),l.a.createElement("button",{className:"btn btn-medium","data-dismiss":"modal",onClick:W},"Cancel"))))))}))))))))},j=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],r=a[1],c=function(){fetch("https://wrkst8ions-server.herokuapp.com/workstations",{method:"GET",headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return Object(g.handleError)(e),e})).then((function(e){r(Object(u.a)(e))})).catch((function(e){console(e.message)}))};return Object(n.useEffect)((function(){c()}),[]),l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"container admin-panel"},l.a.createElement("div",{className:"row mt-md-4 bg-light m-md-3"},l.a.createElement("div",{className:"col-12 bg-primary py-3 admin__header"},l.a.createElement("h5",{className:"text-light mb-0"},"Workstations")),l.a.createElement("div",{className:"col-12 px-3 mb-3"},l.a.createElement("ul",{className:"nav nav-pills border-bottom p-3 mb-3",id:"pills-tab",role:"tablist"},l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link active",id:"newWorkstation-tab","data-toggle":"pill",href:"#newWorkstation",role:"tab","aria-controls":"newWorkstation","aria-selected":"true"},"New Workstation")),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{className:"nav-link",id:"pills-viewWorkstations-tab","data-toggle":"pill",href:"#pills-viewWorkstations",role:"tab","aria-controls":"pills-viewWorkstations","aria-selected":"false"},"View Workstations"))),l.a.createElement("div",{className:"tab-content",id:"pills-tabContent"},l.a.createElement("div",{className:"tab-pane fade show active",id:"newWorkstation",role:"tabpanel","aria-labelledby":"newWorkstation-tab"},l.a.createElement(w,{getWorkstations:c,setWorkstations:r})),l.a.createElement("div",{className:"tab-pane fade",id:"pills-viewWorkstations",role:"tabpanel","aria-labelledby":"pills-viewWorkstations-tab"},l.a.createElement(y,{workstations:t,getWorkstations:c,setWorkstations:r}))))),l.a.createElement("div",{className:"row mt-md-4 bg-light m-md-3 mb-md-5"},l.a.createElement("div",{className:"col-12 bg-primary py-3 admin__header"},l.a.createElement("h5",{className:"text-light mb-0"},"Bookings")),l.a.createElement(x,{workstations:t}))))},S=function(e){var a=e.user,t=e.setUser,r=Object(n.useState)({email:"",password:""}),c=Object(o.a)(r,2),m=c[0],u=c[1],E=Object(n.useState)(null),p=Object(o.a)(E,2),b=p[0],f=p[1],N=function(e){u(Object(d.a)(Object(d.a)({},m),{},Object(i.a)({},e.target.name,e.target.value)))};return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 col-lg-4 login"},a.token?l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"Login"),l.a.createElement("div",{className:"card-body px-md-5"},l.a.createElement("h5",{className:"text-center"},"Welcome, ",a.user.firstname))):l.a.createElement("form",{className:"mb-0",onSubmit:function(e){e.preventDefault(),fetch("https://wrkst8ions-server.herokuapp.com/users/login",{method:"POST",body:JSON.stringify(m),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return Object(g.handleError)(e),e})).then((function(e){e.fail?f({fail:e.fail}):(localStorage.setItem("user",JSON.stringify(e.user)),localStorage.setItem("token","Bearer "+e.token),t({user:JSON.parse(localStorage.getItem("user")),token:localStorage.getItem("token")}))}))}},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"Login"),l.a.createElement("div",{className:"card-body px-md-5"},b&&b.success?l.a.createElement("div",{className:"col-12 text-center"},l.a.createElement("div",{className:"alert alert-success"},b.success)):"",b&&b.fail?l.a.createElement("div",{className:"col-12 text-center"},l.a.createElement("div",{className:"alert alert-danger"},b.fail)):"",l.a.createElement("label",{htmlFor:"email"},"Email:"),l.a.createElement("div",{className:"input-group mb-3"},l.a.createElement("input",{type:"email",name:"email",id:"email",className:"form-control",required:!0,onChange:N}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("span",{className:"input-group-text"},l.a.createElement("i",{className:"fas fa-at"})))),l.a.createElement("label",{htmlFor:"password"},"Password:"),l.a.createElement("div",{className:"input-group mb-4"},l.a.createElement("input",{type:"password",name:"password",id:"password",className:"form-control",required:!0,onChange:N}),l.a.createElement("div",{className:"input-group-append"},l.a.createElement("span",{className:"input-group-text"},l.a.createElement("i",{className:"fas fa-key"})))),l.a.createElement("button",{className:"btn btn-primary w-100 mb-2"},"Submit"),l.a.createElement("p",{className:"mb-0 text-center"},"No account yet? Sign up ",l.a.createElement(s.b,{to:"/register"},"here")))))))))},C="https://wrkst8ions-server.herokuapp.com",D=function(e){var a=e.user,t=e.setUser,r=Object(n.useState)({firstname:"",lastname:"",email:"",password:"",confirmPassword:""}),c=Object(o.a)(r,2),m=c[0],u=c[1],E=function(e){u(Object(d.a)(Object(d.a)({},m),{},Object(i.a)({},e.target.name,e.target.value)))};return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 col-lg-4 register"},a.token?l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"Registration successful"),l.a.createElement("div",{className:"card-body px-md-5"},l.a.createElement("h5",{className:"text-center"},"Welcome, ",a.user.firstname))):l.a.createElement("form",{className:"mb-0",onSubmit:function(e){e.preventDefault(),fetch(C+"/users",{method:"POST",body:JSON.stringify(m),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return Object(g.handleError)(e),e})).then((function(e){fetch(C+"/users/login",{method:"POST",body:JSON.stringify({email:m.email,password:m.password}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){return Object(g.handleError)(e),e})).then((function(e){localStorage.setItem("user",JSON.stringify(e.user)),localStorage.setItem("token","Bearer "+e.token),t({user:JSON.parse(localStorage.getItem("user")),token:localStorage.getItem("token")})}))}))}},l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-header"},"Register"),l.a.createElement("div",{className:"card-body px-md-5"},l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"First Name:"),l.a.createElement("input",{type:"text",name:"firstname",id:"firstname",className:"form-control",required:!0,onChange:E})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Last Name:"),l.a.createElement("input",{type:"text",name:"lastname",id:"lastname",className:"form-control",required:!0,onChange:E})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"email"},"Email:"),l.a.createElement("input",{type:"email",name:"email",id:"email",className:"form-control",required:!0,onChange:E})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Password:"),l.a.createElement("input",{type:"password",name:"password",id:"password",className:"form-control",required:!0,onChange:E})),l.a.createElement("div",{className:"form-group"},l.a.createElement("label",{htmlFor:"password"},"Confirm Password:"),l.a.createElement("input",{type:"password",name:"confirmPassword",id:"confirmPassword",className:"form-control",required:!0,onChange:E})),l.a.createElement("button",{className:"btn btn-primary w-100 mt-3 mb-2"},"Submit"),l.a.createElement("p",{className:"mb-0 text-center"},"Already have an account? Sign in ",l.a.createElement(s.b,{to:"/login"},"here")))))))))},F=function(e){var a=e.selectedBooking,t=e.updateBookings,n=a,r=function(e){fetch("https://wrkst8ions-server.herokuapp.com/bookings/"+n._id,{method:"PUT",body:JSON.stringify({status:"Cancelled"}),headers:{Authorization:localStorage.getItem("token"),"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log(e),t()}))};return l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12 mb-4"},l.a.createElement("img",{src:n.workstation.image,alt:n.workstation.name,className:"img-fluid"})),l.a.createElement("div",{className:"col-12 mb-2"},l.a.createElement("h5",{className:"text-primary"},n.workstation.name,l.a.createElement("span",{className:"badge bg-secondary ml-3 text-light"},n.status)),l.a.createElement("p",{className:"mb-0"},n.transactionCode)),l.a.createElement("div",{className:"col-12"},l.a.createElement("table",{className:"table table-hover table-sm"},l.a.createElement("tbody",null,l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null,"Transaction Date: ")),l.a.createElement("td",null,n.createdAt)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null,"Start Date: ")),l.a.createElement("td",null,n.startDate)),l.a.createElement("tr",null,l.a.createElement("td",null,l.a.createElement("strong",null,"End Date: ")),l.a.createElement("td",null,n.endDate)),l.a.createElement("tr",null,l.a.createElement("td",null),l.a.createElement("td",null))))),l.a.createElement("div",{className:"col-12"},"Pending"!==n.status?l.a.createElement("button",{className:"btn btn-medium px-md-5",disabled:!0,onClick:r},"Cancel Transaction"):l.a.createElement("button",{className:"btn btn-primary px-md-5",onClick:r},"Cancel Transaction")))},I="https://wrkst8ions-server.herokuapp.com",T=function(){var e=Object(n.useState)([]),a=Object(o.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(null),s=Object(o.a)(c,2),m=s[0],i=s[1],d=function(){fetch(I+"/bookings",{headers:{Authorization:localStorage.getItem("token")}}).then((function(e){return e.json()})).then((function(e){fetch(I+"/workstations").then((function(e){return e.json()})).then((function(a){var t=[];e.forEach((function(e){e.workstation=a.find((function(a){return a._id===e.workstationId})),t.push(e)})),r(t)}))}))};Object(n.useEffect)((function(){d()}),[]);var u=function(e){i(t.find((function(a){return a._id===e.target.value})))};return l.a.createElement(n.Fragment,null,l.a.createElement("div",{className:"container user"},l.a.createElement("div",{className:"row bg-primary"},l.a.createElement("div",{className:"col-12 p-3"},l.a.createElement("h5",{className:"mb-0 text-light"},"Your Bookings"))),l.a.createElement("div",{className:"row bg-light"},l.a.createElement("div",{className:"col-md-4 col-lg-3 p-3 border-right"},l.a.createElement("div",{className:"row"},t.map((function(e){return l.a.createElement("div",{className:"col-12",key:e._id},l.a.createElement("button",{className:"btn btn-link",value:e._id,onClick:u},e.transactionCode," - ",e.status))})))),l.a.createElement("div",{className:"col-md-8 col-lg-9 p-3"},m?l.a.createElement(F,{selectedBooking:m,updateBookings:d}):l.a.createElement("h5",{className:"text-center mt-md-5"},"Please select a booking")))))},W=function(){return l.a.createElement(n.Fragment,null,l.a.createElement("h1",{className:"text-light center"},"Oops! Something went wrong."))},_=function(e){var a=e.user,t=e.setUser;return l.a.createElement("div",{className:"navbar-container px-3"},l.a.createElement("div",{className:"container px-0"},l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark px-0"},l.a.createElement(s.b,{to:"/",className:"navbar-brand"},"WRKST8IONS"),l.a.createElement("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#topNav"},l.a.createElement("span",{className:"navbar-toggler-icon"})),l.a.createElement("div",{className:"collapse navbar-collapse",id:"topNav"},l.a.createElement("ul",{className:"navbar-nav mr-auto"},a.user&&"admin"===a.user.role?"":l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/workstations",className:"nav-link"},"Book a Workstation")),localStorage.getItem("user")&&"admin"===JSON.parse(localStorage.getItem("user")).role?l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/admin",className:"nav-link"},"Admin Panel")):""),l.a.createElement("ul",{className:"navbar-nav ml-auto"},localStorage.getItem("user")?l.a.createElement(n.Fragment,null,l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{href:"/user",className:"nav-link"},JSON.parse(localStorage.getItem("user")).firstname)),l.a.createElement("li",{className:"nav-item"},l.a.createElement("a",{href:"/",className:"nav-link",onClick:function(){localStorage.clear(),t({user:null,tokern:null}),window.location.replace("/")}},"Logout"))):l.a.createElement(n.Fragment,null,l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/login",className:"nav-link"},"Login")),l.a.createElement("li",{className:"nav-item"},l.a.createElement(s.b,{to:"/register",className:"nav-link"},"Register"))))))))},L=function(){return l.a.createElement("div",{className:"container-fluid bg-dark py-3 py-md-4 footer"},l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-12"},l.a.createElement("small",{className:"mb-0 text-light"},"Workst8ions \xa9 2020 Copyright: Hector Robles")))))};var P=function(){var e=Object(n.useState)({user:{firstname:null,lastname:null,role:null,id:null},token:null}),a=Object(o.a)(e,2),t=a[0],r=a[1],c=Object(n.useState)(""),i=Object(o.a)(c,2),d=(i[0],i[1]);return Object(n.useEffect)((function(){localStorage.getItem("token")&&r({user:JSON.parse(localStorage.getItem("user")),token:localStorage.getItem("token")})}),[]),Object(n.useEffect)((function(){d(t.user.role)}),[t]),l.a.createElement(s.a,null,l.a.createElement(_,{user:t,setUser:r}),l.a.createElement(m.c,null,l.a.createElement(m.a,{exact:!0,path:"/"},l.a.createElement(v,null)),l.a.createElement(m.a,{exact:!0,path:"/workstations"},JSON.parse(localStorage.getItem("user"))&&"admin"===JSON.parse(localStorage.getItem("user")).role?l.a.createElement(W,null):l.a.createElement(k,null)),l.a.createElement(m.a,{exact:!0,path:"/admin"},JSON.parse(localStorage.getItem("user"))&&"admin"===JSON.parse(localStorage.getItem("user")).role?l.a.createElement(j,null):l.a.createElement(W,null)),l.a.createElement(m.a,{exact:!0,path:"/login"},l.a.createElement(S,{user:t,setUser:r})),l.a.createElement(m.a,{exact:!0,path:"/register"},l.a.createElement(D,{user:t,setUser:r})),l.a.createElement(m.a,{exact:!0,path:"/user"},localStorage.getItem("user")&&"admin"!==JSON.parse(localStorage.getItem("user")).role?l.a.createElement(T,{user:t,setUser:r}):l.a.createElement(W,null)),l.a.createElement(m.a,{path:"/err"},l.a.createElement(W,null))),l.a.createElement(L,null))};c.a.render(l.a.createElement(P,null),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.d04c8da1.chunk.js.map